<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.6.xsd">

    <changeSet author="haeri_am (generated)" id="1590226268948-430">
        <addColumn tableName="tbl_institute">
            <column name="f_parameter_value" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="haeri_am (generated)" id="1590230850544-431">
        <addColumn tableName="tbl_institute">
            <column name="l_parameter_value" type="number(19, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="matin_ar (generated)" id="1590230361357-431">
        <addColumn tableName="tbl_class">
            <column name="f_target_society_type" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="matin_ar (generated)" id="1590230361357-430">
        <createTable tableName="tbl_class_target_society">
            <column name="f_class_id" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="c_target_society" type="VARCHAR2(255 CHAR)"/>
        </createTable>
    </changeSet>
    <changeSet author="matin_ar (generated)" id="1590306557717-497">
        <dropColumn columnName="F_TARGET_SOCIETY_TYPE" tableName="TBL_CLASS"/>
    </changeSet>
    <changeSet author="matin_ar (generated)" id="1590306557717-491">
        <dropTable tableName="TBL_CLASS_TARGET_SOCIETY"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1590564324734-401">
        <dropNotNullConstraint columnDataType="number(19,0)" columnName="f_job_id" tableName="tbl_post"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1590564324734-402">
        <dropNotNullConstraint columnDataType="number(19,0)" columnName="f_post_grade_id" tableName="tbl_post"/>
    </changeSet>

    <changeSet author="poursalehi_mos (generated)" id="1591413875292-438">
        <addColumn tableName="tbl_job_group">
            <column name="c_code" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1591413875292-439">
        <addColumn tableName="tbl_post_grade_group">
            <column name="c_code" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1591413875292-440">
        <addColumn tableName="tbl_post_group">
            <column name="c_code" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1591500872119-512">
        <dropColumn columnName="SCORES_STATE" tableName="TBL_CLASS_STUDENT"/>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1591500872119-443">
        <addColumn tableName="tbl_class_student">
            <column name="scores_state_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1591500872119-454">
        <addForeignKeyConstraint baseColumnNames="scores_state_id" baseTableName="tbl_class_student"
                                 constraintName="FKi20ys074wah6o8u0qd58fnrog" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id"
                                 referencedTableName="tbl_parameter_value" validate="true"/>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1591505253286-513">
        <dropColumn columnName="FAILURE_REASON" tableName="TBL_CLASS_STUDENT"/>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1591505253286-444">
        <addColumn tableName="tbl_class_student">
            <column name="failure_reason_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1591505253286-455">
        <addForeignKeyConstraint baseColumnNames="failure_reason_id" baseTableName="tbl_class_student"
                                 constraintName="FK1or54xgtirawjuvxh0vtgqqxv" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id"
                                 referencedTableName="tbl_parameter_value" validate="true"/>
    </changeSet>
    <!--    <changeSet author="razmnoosh (generated)" id="1591506188197-402">-->
    <!--        <addNotNullConstraint columnDataType="number(19,0)" columnName="scores_state_id" tableName="tbl_class_student"/>-->
    <!--    </changeSet>-->
    <changeSet author="poursalehi_mos (generated)" id="1591589590264-473">
        <dropUniqueConstraint constraintName="UC_TBL_JOB_GROUPC_TITLE_FA_COL" tableName="TBL_JOB_GROUP"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1591589590264-474">
        <dropUniqueConstraint constraintName="UC_TBL_POST_GRADE_GROUPC_TITLE_FA_COL" tableName="TBL_POST_GRADE_GROUP"/>
    </changeSet>

    <changeSet author="razmnoosh (generated)" id="1591591181879-479">
        <dropUniqueConstraint constraintName="UC_TBL_POST_GROUPC_TITLE_FA_COL" tableName="TBL_POST_GROUP"/>
    </changeSet>

    <changeSet author="razmnoosh (generated)" id="1591782765031-451">
        <addColumn tableName="tbl_evaluation_analysis">
            <column name="b_teacher_pass" type="number(1, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1591782765031-452">
        <addColumn tableName="tbl_evaluation_analysis">
            <column name="c_teacher_grade" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="poursalehi_mos (generated)" id="1592301837609-440">
        <dropForeignKeyConstraint baseTableName="TBL_NEED_ASSESSMENT_SKILL_BASED"
                                  constraintName="FK1AIMHPRI3C7JQYXF61MUUE8SB"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-441">
        <dropForeignKeyConstraint baseTableName="TBL_COMPETENCE_NEW" constraintName="FK3B29TW8BISELXUSO9MTS6WJ81"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-442">
        <dropForeignKeyConstraint baseTableName="TBL_PROVINCE" constraintName="FK3D0TOD52GYM4CVFEH2OOY1WH7"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-443">
        <dropForeignKeyConstraint baseTableName="TBL_POLIS" constraintName="FK5UQYVIJCL031VQ9S9LOYS23J8"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-444">
        <dropForeignKeyConstraint baseTableName="TBL_NEED_ASSESSMENT" constraintName="FK70VM1EWKVK8XQ8PDR5L8PTVN2"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-445">
        <dropForeignKeyConstraint baseTableName="TBL_NEED_ASSESSMENT" constraintName="FK76PAHJAKRKWESQEHD2MSDMIKH"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-446">
        <dropForeignKeyConstraint baseTableName="TBL_NEED_ASSESSMENT_SKILL_POST"
                                  constraintName="FK79NQ7K3F70JFUYQ0XJQ3MOJOC"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-447">
        <dropForeignKeyConstraint baseTableName="TBL_NEED_ASSESSMENT_SKILL_BASED"
                                  constraintName="FKAYI7AD3MM6G5L1U43KOYY766C"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-448">
        <dropForeignKeyConstraint baseTableName="TBL_NEED_ASSESSMENT" constraintName="FKBEFRJW4GC5J8B47LJIO9BYJ8W"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-449">
        <dropForeignKeyConstraint baseTableName="TBL_COMPETENCE_SKILL_GROUP"
                                  constraintName="FKBO4REUEW9XFMENAAU57DY10OY"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-450">
        <dropForeignKeyConstraint baseTableName="TBL_NEED_ASSESSMENT_SKILL_POST"
                                  constraintName="FKBQM78OSP274THFOJK9IT78HXE"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-451">
        <dropForeignKeyConstraint baseTableName="TBL_NEED_ASSESSMENT_SKILL_BASED"
                                  constraintName="FKCS9A7KJN1LOLDGUOTA8L3YGKQ"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-452">
        <dropForeignKeyConstraint baseTableName="TBL_NEED_ASSESSMENT_SKILL_POST"
                                  constraintName="FKDR3XVM2NOFKKL0TCP6YX1E3TH"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-453">
        <dropForeignKeyConstraint baseTableName="TBL_POLIS" constraintName="FKE0AR9DPTLPVR12R35RA2JFTGA"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-454">
        <dropForeignKeyConstraint baseTableName="TBL_NEED_ASSESSMENT" constraintName="FKE5J8FY4GLN39VIPRDA644LNP9"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-455">
        <dropForeignKeyConstraint baseTableName="TBL_NEED_ASSESSMENT" constraintName="FKEKFK41GD6Q6YTOIWOJSIPCF20"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-456">
        <dropForeignKeyConstraint baseTableName="TBL_COMPETENCE_NEW" constraintName="FKEMAJ3E350AEX21CQMYKGIAGN7"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-457">
        <dropForeignKeyConstraint baseTableName="TBL_SKILL_SKILLGROUP" constraintName="FKH9ADHAXE5AP8M3HN4RN3BC8U7"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-458">
        <dropForeignKeyConstraint baseTableName="TBL_SKILL_SKILLGROUP" constraintName="FKJK6FQ86FR0RSNXGHKAIN906EF"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-459">
        <dropForeignKeyConstraint baseTableName="TBL_SKILL_GROUP" constraintName="FKKFWTC5KW7NK5KPJYBHR4A4L5A"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-460">
        <dropForeignKeyConstraint baseTableName="TBL_NEED_ASSESSMENT" constraintName="FKLI6XXMPKLHHTFLH4WX2OQS7C5"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-461">
        <dropForeignKeyConstraint baseTableName="TBL_PROVINCE" constraintName="FKMTRASQJCGPEAFJCIVC5P6W0NS"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-462">
        <dropForeignKeyConstraint baseTableName="TBL_POLIS" constraintName="FKR88EACJBYRS3U0B0W6V7VXYYD"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-463">
        <dropForeignKeyConstraint baseTableName="TBL_NEED_ASSESSMENT_SKILL_POST"
                                  constraintName="FKRJPK0A9FPN167CYKP4KJJJ56X"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-464">
        <dropForeignKeyConstraint baseTableName="TBL_SKILL_GROUP" constraintName="FKSFFQSY6ICDJNIO2O99SHS3NSL"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-465">
        <dropForeignKeyConstraint baseTableName="TBL_COMPETENCE_SKILL_GROUP"
                                  constraintName="FKTBTB7RMOQN6G8UE0PYJTV2GD5"/>
    </changeSet>

    <changeSet author="poursalehi_mos (generated)" id="1592301837609-468">
        <dropUniqueConstraint constraintName="UC_TBL_COMPETENCE_NEWC_TITLE_FA_COL" tableName="TBL_COMPETENCE_NEW"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-469">
        <dropUniqueConstraint constraintName="UC_TBL_PROVINCEC_NAME_FA_COL" tableName="TBL_PROVINCE"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-470">
        <dropUniqueConstraint constraintName="UK1WN0DEHCQ9HLE4J9GR62QWUIR" tableName="TBL_NEED_ASSESSMENT"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-471">
        <dropUniqueConstraint constraintName="UK9AOGC2FN2Q2IEGLKI07IQ26Q8" tableName="TBL_NEED_ASSESSMENT_SKILL_BASED"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-472">
        <dropUniqueConstraint constraintName="UKLLSR435TXY4FJTVVG3J4A5K4E" tableName="TBL_NEED_ASSESSMENT_SKILL_POST"/>
    </changeSet>

    <changeSet author="poursalehi_mos (generated)" id="1592301837609-527">
        <dropTable tableName="TBL_COMPETENCE_NEW"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-528">
        <dropTable tableName="TBL_COMPETENCE_SKILL_GROUP"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-530">
        <dropTable tableName="TBL_NEED_ASSESSMENT"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-531">
        <dropTable tableName="TBL_NEED_ASSESSMENT_SKILL_BASED"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-532">
        <dropTable tableName="TBL_NEED_ASSESSMENT_SKILL_POST"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-533">
        <dropTable tableName="TBL_POLIS"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-534">
        <dropTable tableName="TBL_PROVINCE"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-535">
        <dropTable tableName="TBL_SKILL_GROUP"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-536">
        <dropTable tableName="TBL_SKILL_SKILLGROUP"/>
    </changeSet>

    <changeSet author="poursalehi_mos (generated)" id="1592301837609-543">
        <dropSequence sequenceName="SEQ_CLASS_SESSIONS_ID"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-544">
        <dropSequence sequenceName="SEQ_NEED_ASSESSMENT_ID"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-545">
        <dropSequence sequenceName="SEQ_NEED_ASSESSMENT_SKILL_BASED_ID"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-546">
        <dropSequence sequenceName="SEQ_NEED_ASSESSMENT_SKILL_POST_ID"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-547">
        <dropSequence sequenceName="SEQ_POLIS_ID"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-548">
        <dropSequence sequenceName="SEQ_PROVINCE_ID"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-549">
        <dropSequence sequenceName="SEQ_SKILL_GROUP_ID"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592301837609-550">
        <dropSequence sequenceName="SEQ_SUBCATEGORY_ID"/>
    </changeSet>


    <changeSet author="poursalehi_mos (generated)" id="1592371635355-416">
        <addColumn tableName="tbl_equal_course">
            <column name="id" type="number(19, 0)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592371635355-237">
        <dropForeignKeyConstraint baseTableName="tbl_equal_and_course" constraintName="FKkwqxqkpp78dcrvd4b8d52972l"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592371635355-377">
        <dropPrimaryKey tableName="tbl_equal_course"/>
        <createIndex indexName="IX_tbl_equal_coursePK" tableName="tbl_equal_course" unique="true">
            <column name="id"/>
        </createIndex>
        <addPrimaryKey columnNames="id" constraintName="tbl_equal_coursePK" forIndexName="IX_tbl_equal_coursePK"
                       tableName="tbl_equal_course"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592371635355-215">
        <addForeignKeyConstraint baseColumnNames="f_equal_course_id" baseTableName="tbl_equal_and_course"
                                 constraintName="FKkwqxqkpp78dcrvd4b8d52972l" referencedColumnNames="id"
                                 referencedTableName="tbl_equal_course"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592371635355-504">
        <dropColumn columnName="EQUAL_COURSE_ID" tableName="tbl_equal_course"/>
    </changeSet>

    <changeSet author="mosta (generated)" id="1592557743650-372">
        <addNotNullConstraint columnDataType="number(19,0)" columnName="list_equal_and_course"
                              tableName="tbl_equal_and_course"/>
    </changeSet>

    <changeSet author="poursalehi_mos (generated)" id="1592578568485-507">
        <dropColumn columnName="C_EQUAL_COURSE" tableName="TBL_COURSE"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592578568485-508">
        <dropColumn columnName="C_PRE_COURSE" tableName="TBL_COURSE"/>
    </changeSet>

    <changeSet author="golrokhi (generated)" id="1592644619220-418">
        <addColumn tableName="tbl_student">
            <column name="account_number" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="golrokhi (generated)" id="1592644619220-419">
        <addColumn tableName="tbl_student">
            <column name="address" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1592644619220-420">
        <addColumn tableName="tbl_student">
            <column name="email" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1592644619220-421">
        <addColumn tableName="tbl_student">
            <column name="fax" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1592644619220-422">
        <addColumn tableName="tbl_student">
            <column name="mobile" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1592644619220-423">
        <addColumn tableName="tbl_student">
            <column name="nationality_title" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1592644619220-424">
        <addColumn tableName="tbl_student">
            <column name="phone" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1592644619220-425">
        <addColumn tableName="tbl_student">
            <column name="religion_title" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="razmnoosh (generated)" id="1592719887888-517">
        <dropColumn columnName="EVALUATION_AUDIENCE_TYPE" tableName="TBL_CLASS_STUDENT"/>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1592719887888-419">
        <addColumn tableName="tbl_class_student">
            <column name="evaluation_audience_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1592719887888-420">
        <addColumn tableName="tbl_class_student">
            <column name="evaluation_audience_type_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="razmnoosh (generated)" id="1592798863869-425">
        <addColumn tableName="tbl_class">
            <column name="evaluation_reaction_teacher" type="number(10, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1592798863869-426">
        <addColumn tableName="tbl_class">
            <column name="evaluation_reaction_training" type="number(10, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="poursalehi_mos (generated)" id="1592801274835-384">
        <addNotNullConstraint columnDataType="number(19,0)" columnName="f_competence" tableName="tbl_needs_assessment"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592801274835-385">
        <addNotNullConstraint columnDataType="number(19,0)" columnName="f_competence"
                              tableName="tbl_needs_assessment_temp"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592801274835-386">
        <addNotNullConstraint columnDataType="number(19,0)" columnName="f_parameter_value_needs_assessment_domain"
                              tableName="tbl_needs_assessment"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592801274835-387">
        <addNotNullConstraint columnDataType="number(19,0)" columnName="f_parameter_value_needs_assessment_domain"
                              tableName="tbl_needs_assessment_temp"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592801274835-388">
        <addNotNullConstraint columnDataType="number(19,0)" columnName="f_parameter_value_needs_assessment_priority"
                              tableName="tbl_needs_assessment"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592801274835-389">
        <addNotNullConstraint columnDataType="number(19,0)" columnName="f_parameter_value_needs_assessment_priority"
                              tableName="tbl_needs_assessment_temp"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592801274835-390">
        <addNotNullConstraint columnDataType="number(19,0)" columnName="f_skill" tableName="tbl_needs_assessment"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1592801274835-391">
        <addNotNullConstraint columnDataType="number(19,0)" columnName="f_skill" tableName="tbl_needs_assessment_temp"/>
    </changeSet>

    <!--    <changeSet author="poursalehi_mos (generated)" id="1592301837609-373">-->
    <!--        <addNotNullConstraint columnDataType="number(19,0)" columnName="scores_state_id" tableName="tbl_class_student"/>-->
    <!--    </changeSet>-->

    <changeSet author="razmnoosh (generated)" id="1593940576949-442">
        <addColumn tableName="tbl_class_student">
            <column name="behavioral_forwarded_forms" type="number(10, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1593940576949-443">
        <addColumn tableName="tbl_class_student">
            <column name="behavioral_registered_forms" type="number(10, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1593940576949-441">
        <addColumn tableName="tbl_evaluation">
            <column name="b_status" type="number(1, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="mostafa-001">
        <dropUniqueConstraint constraintName="UC_TBL_JOBC_CODE_COL" tableName="TBL_JOB"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="mostafa-002">
        <dropUniqueConstraint constraintName="UC_TBL_POST_GRADEC_CODE_COL" tableName="TBL_POST_GRADE"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="mostafa-003">
        <dropUniqueConstraint constraintName="UC_TBL_POSTC_CODE_COL" tableName="TBL_POST"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="mostafa-004">
        <dropUniqueConstraint constraintName="UC_TBL_TRAINING_POSTC_CODE_COL" tableName="TBL_TRAINING_POST"/>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1594115333049-437">
        <addColumn tableName="tbl_evaluation">
            <column name="c_return_date" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="jafari-h (generated)" id="1594795925846-441">
        <addColumn tableName="tbl_competence">
            <column name="c_code" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="jafari-h (generated)" id="1594795925846-442">
        <addColumn tableName="tbl_competence">
            <column name="category_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="jafari-h (generated)" id="1594795925846-443">
        <addColumn tableName="tbl_competence">
            <column name="subcategory_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-448">
        <createTable tableName="tbl_geo_work">
            <column name="id" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="tbl_geo_workPK"/>
            </column>
            <column name="c_code" type="NUMBER(19, 0)"/>
            <column name="c_people_type" type="VARCHAR2(50 CHAR)"/>
            <column name="c_title" type="VARCHAR2(255 CHAR)"/>
        </createTable>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-449">
        <addColumn tableName="tbl_department">
            <column name="c_alignment" type="number(1, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-450">
        <addColumn tableName="tbl_department">
            <column name="c_correction" type="number(1, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-451">
        <addColumn tableName="tbl_department">
            <column name="c_created_by" type="varchar2(255 CHAR)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-452">
        <addColumn tableName="tbl_department">
            <column name="c_end_date" type="timestamp"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-453">
        <addColumn tableName="tbl_department">
            <column name="c_ghesmat_code" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-454">
        <addColumn tableName="tbl_department">
            <column name="c_ghesmat_title" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-455">
        <addColumn tableName="tbl_department">
            <column name="c_hoze_code" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-456">
        <addColumn tableName="tbl_department">
            <column name="c_hoze_title" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-457">
        <addColumn tableName="tbl_department">
            <column name="c_issuable" type="number(1, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-458">
        <addColumn tableName="tbl_department">
            <column name="c_last_modified_by" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-459">
        <addColumn tableName="tbl_department">
            <column name="c_legacy_change_date" type="timestamp"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-460">
        <addColumn tableName="tbl_department">
            <column name="c_legacy_create_date" type="timestamp"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-461">
        <addColumn tableName="tbl_department">
            <column name="c_moavenat_code" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-462">
        <addColumn tableName="tbl_department">
            <column name="c_moavenat_title" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-463">
        <addColumn tableName="tbl_department">
            <column name="c_nature" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-464">
        <addColumn tableName="tbl_department">
            <column name="c_new_code" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-465">
        <addColumn tableName="tbl_department">
            <column name="c_old_code" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-466">
        <addColumn tableName="tbl_department">
            <column name="c_omor_code" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-467">
        <addColumn tableName="tbl_department">
            <column name="c_omor_title" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-468">
        <addColumn tableName="tbl_department">
            <column name="c_parent_code" type="varchar2(50 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-469">
        <addColumn tableName="tbl_department">
            <column name="c_people_type" type="varchar2(50 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-470">
        <addColumn tableName="tbl_job">
            <column name="c_people_type" type="varchar2(50 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-471">
        <addColumn tableName="tbl_post">
            <column name="c_people_type" type="varchar2(50 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-472">
        <addColumn tableName="tbl_post_grade">
            <column name="c_people_type" type="varchar2(50 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-473">
        <addColumn tableName="tbl_training_post">
            <column name="c_people_type" type="varchar2(50 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-474">
        <addColumn tableName="tbl_department">
            <column name="c_start_date" type="timestamp"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-475">
        <addColumn tableName="tbl_department">
            <column name="c_title" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-476">
        <addColumn tableName="tbl_department">
            <column name="c_title_l" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-477">
        <addColumn tableName="tbl_department">
            <column name="c_type" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-478">
        <addColumn tableName="tbl_department">
            <column name="c_user" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-479">
        <addColumn tableName="tbl_department">
            <column name="c_vahed_code" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-480">
        <addColumn tableName="tbl_department">
            <column name="c_vahed_title" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-481">
        <addColumn tableName="tbl_department">
            <column name="d_created_date" type="timestamp">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-482">
        <addColumn tableName="tbl_department">
            <column name="d_last_modified_date" type="timestamp"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-483">
        <addColumn tableName="tbl_department">
            <column name="e_deleted" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-484">
        <addColumn tableName="tbl_department">
            <column name="e_enabled" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-485">
        <addColumn tableName="tbl_personnel">
            <column name="f_department_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-486">
        <addColumn tableName="tbl_personnel_registered">
            <column name="f_department_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-487">
        <addColumn tableName="tbl_post">
            <column name="f_department_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-488">
        <addColumn tableName="tbl_student">
            <column name="f_department_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-489">
        <addColumn tableName="tbl_training_post">
            <column name="f_department_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-490">
        <addColumn tableName="tbl_department">
            <column name="f_parent" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-491">
        <addColumn tableName="tbl_personnel">
            <column name="p_type" type="varchar2(50 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-492">
        <addColumn tableName="tbl_personnel_registered">
            <column name="p_type" type="varchar2(50 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-493">
        <addColumn tableName="tbl_student">
            <column name="p_type" type="varchar2(50 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-529">
        <dropForeignKeyConstraint baseTableName="TBL_DEPARTMENT" constraintName="FK_DEPARTMENT2DEPARTMENT"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-602">
        <dropColumn columnName="DEP_DEACTIVE" tableName="TBL_DEPARTMENT"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-603">
        <dropColumn columnName="DEP_DEPARTMENTNAME" tableName="TBL_DEPARTMENT"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-604">
        <dropColumn columnName="DEP_PARENT_ID" tableName="TBL_DEPARTMENT"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-605">
        <dropColumn columnName="N_TREE_VERSION" tableName="TBL_DEPARTMENT"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-606">
        <dropColumn columnName="PARENT_CODE" tableName="TBL_DEPARTMENT"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-608">
        <dropSequence sequenceName="SEQ_DEPARTMENT_ID"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-401">
        <dropNotNullConstraint columnDataType="varchar(255 CHAR)" columnName="c_code" tableName="tbl_job"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-402">
        <dropNotNullConstraint columnDataType="varchar(255 CHAR)" columnName="c_code" tableName="tbl_post"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-403">
        <dropNotNullConstraint columnDataType="varchar(255 CHAR)" columnName="c_code" tableName="tbl_post_grade"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-404">
        <dropNotNullConstraint columnDataType="varchar(255 CHAR)" columnName="c_code" tableName="tbl_training_post"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-405">
        <dropNotNullConstraint columnDataType="varchar(255 CHAR)" columnName="c_title_fa" tableName="tbl_job"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-406">
        <dropNotNullConstraint columnDataType="varchar(255 CHAR)" columnName="c_title_fa" tableName="tbl_post"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-407">
        <dropNotNullConstraint columnDataType="varchar(255 CHAR)" columnName="c_title_fa" tableName="tbl_post_grade"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-408">
        <dropNotNullConstraint columnDataType="varchar(255 CHAR)" columnName="c_title_fa"
                               tableName="tbl_training_post"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595043204072-409">
        <addNotNullConstraint columnDataType="number(10,0)" columnName="n_version" tableName="tbl_department"/>
    </changeSet>
    <changeSet author="jafari-h (generated)" id="1595043444667-471">
        <dropUniqueConstraint constraintName="UC_TBL_COMPETENCEC_TITLE_COL" tableName="TBL_COMPETENCE"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595049229600-450">
        <addColumn tableName="tbl_personnel">
            <column name="f_geo_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595049229600-451">
        <addColumn tableName="tbl_personnel_registered">
            <column name="f_geo_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595049229600-452">
        <addColumn tableName="tbl_student">
            <column name="f_geo_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595054165426-450">
        <addColumn tableName="tbl_personnel">
            <column name="f_post_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595054165426-451">
        <addColumn tableName="tbl_personnel_registered">
            <column name="f_post_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595054165426-452">
        <addColumn tableName="tbl_student">
            <column name="f_post_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595056114956-452">
        <addColumn tableName="tbl_personnel">
            <column name="c_username" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595056114956-453">
        <addColumn tableName="tbl_personnel_registered">
            <column name="c_username" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595056114956-454">
        <addColumn tableName="tbl_student">
            <column name="c_username" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="poursalehi_mos (generated)" id="1595059040994-475">
        <dropForeignKeyConstraint baseTableName="TBL_COMMITTEE_PERSONNEL" constraintName="FK65EHY840FG2DJ3E1QYKLVR0X6"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595059040994-476">
        <dropForeignKeyConstraint baseTableName="TBL_COMMITTEE_PERSONNEL" constraintName="FK7WMQNNKYQAYTKI3IMC2GQU6M7"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595056114956-196">
        <dropForeignKeyConstraint baseTableName="tbl_class_contract" constraintName="FKihwfaifcmcci1efmafvm6iwj8"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595059040994-551">
        <dropColumn columnName="F_ACCOUNTABLE_ID" tableName="TBL_CLASS_CONTRACT"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595059040994-544">
        <dropTable tableName="TBL_COMMITTEE_PERSONNEL"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595056114956-406">
        <dropNotNullConstraint columnDataType="varchar(255 CHAR)" columnName="personnel_no" tableName="tbl_personnel"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595056114956-405">
        <addNotNullConstraint columnDataType="number(19,0)" columnName="id" tableName="tbl_personnel"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595070690461-405">
        <dropPrimaryKey tableName="tbl_personnel"/>
        <createIndex indexName="IX_tbl_personnelPK" tableName="tbl_personnel" unique="true">
            <column name="id"/>
        </createIndex>
        <addPrimaryKey columnNames="id" constraintName="tbl_personnelPK" forIndexName="IX_tbl_personnelPK"
                       tableName="tbl_personnel"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595070690461-449">
        <createTable tableName="tbl_committee_personnel">
            <column name="f_committee_id" type="NUMBER(19, 0)">
                <constraints primaryKey="true"/>
            </column>
            <column name="f_personnel_id" type="NUMBER(19, 0)">
                <constraints primaryKey="true"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595070690461-462">
        <addForeignKeyConstraint baseColumnNames="f_committee_id" baseTableName="tbl_committee_personnel"
                                 constraintName="FK65ehy840fg2dj3e1qyklvr0x6" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id"
                                 referencedTableName="tbl_committee" validate="true"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595070690461-463">
        <addForeignKeyConstraint baseColumnNames="f_personnel_id" baseTableName="tbl_committee_personnel"
                                 constraintName="FK7wmqnnkyqaytki3imc2gqu6m7" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id"
                                 referencedTableName="tbl_personnel" validate="true"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595070690461-450">
        <addColumn tableName="tbl_class_contract">
            <column name="f_accountable_id" type="number(19, 0)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595070690461-464">
        <addForeignKeyConstraint baseColumnNames="f_accountable_id" baseTableName="tbl_class_contract"
                                 constraintName="FKihwfaifcmcci1efmafvm6iwj8" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id"
                                 referencedTableName="tbl_personnel" validate="true"/>
    </changeSet>

    <changeSet author="matin_ar (generated)" id="1595146299877-450">
        <addColumn tableName="tbl_job">
            <column name="c_modified_by_na" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="matin_ar (generated)" id="1595146299877-451">
        <addColumn tableName="tbl_job_group">
            <column name="c_modified_by_na" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="matin_ar (generated)" id="1595146299877-452">
        <addColumn tableName="tbl_post">
            <column name="c_modified_by_na" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="matin_ar (generated)" id="1595146299877-453">
        <addColumn tableName="tbl_post_grade">
            <column name="c_modified_by_na" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="matin_ar (generated)" id="1595146299877-454">
        <addColumn tableName="tbl_post_grade_group">
            <column name="c_modified_by_na" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="matin_ar (generated)" id="1595146299877-455">
        <addColumn tableName="tbl_post_group">
            <column name="c_modified_by_na" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="matin_ar (generated)" id="1595146299877-456">
        <addColumn tableName="tbl_training_post">
            <column name="c_modified_by_na" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="matin_ar (generated)" id="1595146299877-457">
        <addColumn tableName="tbl_job">
            <column name="d_last_modified_date_na" type="timestamp"/>
        </addColumn>
    </changeSet>
    <changeSet author="matin_ar (generated)" id="1595146299877-458">
        <addColumn tableName="tbl_job_group">
            <column name="d_last_modified_date_na" type="timestamp"/>
        </addColumn>
    </changeSet>
    <changeSet author="matin_ar (generated)" id="1595146299877-459">
        <addColumn tableName="tbl_post">
            <column name="d_last_modified_date_na" type="timestamp"/>
        </addColumn>
    </changeSet>
    <changeSet author="matin_ar (generated)" id="1595146299877-460">
        <addColumn tableName="tbl_post_grade">
            <column name="d_last_modified_date_na" type="timestamp"/>
        </addColumn>
    </changeSet>
    <changeSet author="matin_ar (generated)" id="1595146299877-461">
        <addColumn tableName="tbl_post_grade_group">
            <column name="d_last_modified_date_na" type="timestamp"/>
        </addColumn>
    </changeSet>
    <changeSet author="matin_ar (generated)" id="1595146299877-462">
        <addColumn tableName="tbl_post_group">
            <column name="d_last_modified_date_na" type="timestamp"/>
        </addColumn>
    </changeSet>
    <changeSet author="matin_ar (generated)" id="1595146299877-463">
        <addColumn tableName="tbl_training_post">
            <column name="d_last_modified_date_na" type="timestamp"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1595217836877-452">
        <addColumn tableName="tbl_class_student">
            <column name="behavioral_completed_forms" type="number(10, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1595217836877-454">
        <addColumn tableName="tbl_evaluation">
            <column name="f_questionnaire_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1595217836877-453">
        <addColumn tableName="tbl_evaluation">
            <column name="c_send_date" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1595230443489-455">
        <addColumn tableName="tbl_evaluation_question">
            <column name="lock_status" type="number(1, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1595230839534-456">
        <addColumn tableName="tbl_questionnaire">
            <column name="lock_status" type="number(1, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1595309679428-455">
        <addColumn tableName="tbl_dynamic_question">
            <column name="f_type" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1595315738742-553">
        <dropColumn columnName="BEHAVIORAL_COMPLETED_FORMS" tableName="TBL_CLASS_STUDENT"/>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1595315738742-554">
        <dropColumn columnName="BEHAVIORAL_FORWARDED_FORMS" tableName="TBL_CLASS_STUDENT"/>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1595315738742-555">
        <dropColumn columnName="BEHAVIORAL_REGISTERED_FORMS" tableName="TBL_CLASS_STUDENT"/>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1595315738742-556">
        <dropColumn columnName="EVALUATION_AUDIENCE_ID" tableName="TBL_CLASS_STUDENT"/>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1595315738742-557">
        <dropColumn columnName="EVALUATION_AUDIENCE_TYPE_ID" tableName="TBL_CLASS_STUDENT"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595313855848-553">
        <dropColumn columnName="BIRTH_DATE" tableName="TBL_PERSONNEL"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595313855848-554">
        <dropColumn columnName="EMPLOYMENT_DATE" tableName="TBL_PERSONNEL"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595313855848-556">
        <dropColumn columnName="POST_ASSIGNMENT_DATE" tableName="TBL_PERSONNEL"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595315013162-455">
        <addColumn tableName="tbl_personnel">
            <column name="birth_date" type="timestamp"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595315013162-456">
        <addColumn tableName="tbl_personnel">
            <column name="employment_date" type="timestamp"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1595315013162-457">
        <addColumn tableName="tbl_personnel">
            <column name="post_assignment_date" type="timestamp"/>
        </addColumn>
    </changeSet>

    <changeSet author="golrokhi (generated)" id="1595321086188-461">
        <addColumn tableName="tbl_question_bank">
            <column name="n_multiple_choice_answer" type="number(10, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="haeri_am (generated)" id="1595647986202-454">
        <addColumn tableName="tbl_goal">
            <column name="category_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="golrokhi (generated)" id="1595321086188-560">
        <dropColumn columnName="C_MULTIPLE_CHOICE_ANSWER" tableName="TBL_QUESTION_BANK"/>
    </changeSet>

    <changeSet author="golrokhi (generated)" id="1595323156709-461">
        <addColumn tableName="tbl_question_bank">
            <column name="n_code_id" type="number(10, 0)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet author="golrokhi (generated)" id="1595323156709-560">
        <dropColumn columnName="C_CODE_ID" tableName="TBL_QUESTION_BANK"/>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1595387736873-417">
        <dropNotNullConstraint columnDataType="number(19,0)" columnName="f_parameter_value_question_display_type"
                               tableName="tbl_question_bank"/>
    </changeSet>

    <changeSet author="golrokhi (generated)" id="1595660685513-461">
        <addColumn tableName="tbl_question_bank">
            <column name="f_course_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1595660685513-462">
        <addColumn tableName="tbl_question_bank">
            <column name="f_tclass_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1595660685513-463">
        <addColumn tableName="tbl_question_bank">
            <column name="f_teacher_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1595738283090-456">
        <addColumn tableName="tbl_class_student">
            <column name="b_behavioral_filled_by_student" type="number(1, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1595738283090-457">
        <addColumn tableName="tbl_class_student">
            <column name="b_reaction_filled_by_student" type="number(1, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1595743601062-566">
        <dropColumn columnName="B_BEHAVIORAL_FILLED_BY_STUDENT" tableName="TBL_CLASS_STUDENT"/>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1595743601062-567">
        <dropColumn columnName="B_REACTION_FILLED_BY_STUDENT" tableName="TBL_CLASS_STUDENT"/>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1595743601062-568">
        <dropColumn columnName="LOCK_STATUS" tableName="TBL_EVALUATION_QUESTION"/>
    </changeSet>

    <changeSet author="jafari-h (generated)" id="1595997466734-466">
        <addColumn tableName="tbl_competence">
            <column name="n_work_flow_code" type="number(10, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1595998519812-466">
        <addColumn tableName="tbl_class_student">
            <column name="number_of_registered_behavioral_forms" type="number(10, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1595998519812-467">
        <addColumn tableName="tbl_class_student">
            <column name="number_of_sended_behavioral_forms" type="number(10, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1596450800510-466">
        <addColumn tableName="tbl_class">
            <column name="c_behavioral_level" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1596450800510-467">
        <addColumn tableName="tbl_class">
            <column name="c_evaluation" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="jafari-h (generated)" id="1596606676796-477">
        <addColumn tableName="tbl_class">
            <column name="c_postpone_start_date" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="jafari-h (generated)" id="1596606676796-478">
        <addColumn tableName="tbl_class">
            <column name="f_cancel_class_reason" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="jafari-h (generated)" id="1596821187750-478">
        <addColumn tableName="tbl_class">
            <column name="f_alternative_class" type="number(19, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="golrokhi (generated)" id="1596614216172-476">
        <addColumn tableName="tbl_message_contact">
            <column name="f_message_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1596614216172-477">
        <addColumn tableName="tbl_message">
            <column name="n_count_send" type="number(10, 0)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1596614216172-478">
        <addColumn tableName="tbl_message">
            <column name="n_interval" type="number(10, 0)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1596614216172-479">
        <addColumn tableName="tbl_message_contact">
            <column name="n_message_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1596616621909-581">
        <dropColumn columnName="C_LAST_SENT_DATE" tableName="TBL_MESSAGE_CONTACT"/>
    </changeSet>

    <changeSet author="golrokhi (generated)" id="1596619389517-477">
        <addColumn tableName="tbl_message_contact">
            <column name="c_last_sent_date" type="timestamp"/>
        </addColumn>
    </changeSet>

    <changeSet author="golrokhi (generated)" id="1596621786561-477">
        <addColumn tableName="tbl_message_contact">
            <column name="c_object_mobile" type="varchar2(255 CHAR)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet author="golrokhi (generated)" id="1596622897038-477">
        <addColumn tableName="tbl_message_contact">
            <column name="n_count_sent" type="number(10, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="golrokhi (generated)" id="1596622897038-585">
        <dropColumn columnName="N_SENT_COUNT" tableName="TBL_MESSAGE_CONTACT"/>
    </changeSet>


    <changeSet author="golrokhi (generated)" id="1596986495722-598">
        <dropColumn columnName="F_QUESTION_BANK" tableName="TBL_TEST_QUESTION"/>
    </changeSet>

    <changeSet author="golrokhi (generated)" id="1597647780681-598">
        <dropColumn columnName="C_CONTEXT_HTML" tableName="TBL_MESSAGE"/>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1597647780681-599">
        <dropColumn columnName="C_CONTEXT_HTML" tableName="TBL_MESSAGE_CONTACT"/>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1597647780681-600">
        <dropColumn columnName="C_CONTEXT_TEXT" tableName="TBL_MESSAGE"/>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1597647780681-601">
        <dropColumn columnName="C_CONTEXT_TEXT" tableName="TBL_MESSAGE_CONTACT"/>
    </changeSet>

    <changeSet author="golrokhi (generated)" id="1597642991877-490">
        <addColumn tableName="tbl_message">
            <column name="c_context_html" type="varchar2(2000 CHAR)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1597642991877-491">
        <addColumn tableName="tbl_message_contact">
            <column name="c_context_html" type="varchar2(2000 CHAR)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1597642991877-492">
        <addColumn tableName="tbl_message">
            <column name="c_context_text" type="varchar2(2000 CHAR)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1597642991877-493">
        <addColumn tableName="tbl_message_contact">
            <column name="c_context_text" type="varchar2(2000 CHAR)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>


    <changeSet author="golrokhi (generated)" id="1597649040205-488">
        <createTable tableName="tbl_message_parameter_value">
            <column name="f_message_id" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="f_parameter_value_id" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>


    <changeSet author="golrokhi (generated)" id="1597731116255-490">
        <addColumn tableName="tbl_test_question">
            <column name="c_date" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1597731116255-491">
        <addColumn tableName="tbl_test_question">
            <column name="c_time" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1597731116255-492">
        <addColumn tableName="tbl_test_question">
            <column name="n_duration" type="number(10, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="golrokhi (generated)" id="1597825754792-490">
        <addColumn tableName="tbl_message">
            <column name="f_message_class" type="number(19, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="matin_ar (generated)" id="1598067280592-490">
        <addColumn tableName="tbl_class">
            <column name="f_targetsociety_type_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="matin_ar (generated)" id="1598067280592-607">
        <dropColumn columnName="F_TARGETSOCIETY_TYPE_ID" tableName="TBL_TARGET_SOCIETY"/>
    </changeSet>

    <changeSet author="golrokhi (generated)" id="1598422312247-496">
        <addColumn tableName="tbl_question_bank">
            <column defaultValueNumeric="1" name="n_lines" type="int">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet author="razmnoosh (generated)" id="1598868939010-496">
        <addColumn tableName="tbl_dynamic_question">
            <column name="goal_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1598868939010-497">
        <addColumn tableName="tbl_dynamic_question">
            <column name="skill_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="razmnoosh (generated)" id="1599279853079-497">
        <addColumn tableName="tbl_class">
            <column name="c_student_cost" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1599279853079-498">
        <addColumn tableName="tbl_class">
            <column name="f_student_cost_currency" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1599894112446-497">
        <addColumn tableName="tbl_post">
            <column name="n_parent_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1600570520012-448">
        <addNotNullConstraint columnDataType="number(19,0)" columnName="category_id"
                              tableName="tbl_annual_statistical"/>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1600570520012-453">
        <dropPrimaryKey tableName="tbl_annual_statistical"/>
        <createIndex indexName="IX_tbl_annual_statisticalPK" tableName="tbl_annual_statistical" unique="true">
            <column name="category_id"/>
            <column name="institute_id"/>
        </createIndex>
        <addPrimaryKey columnNames="category_id, institute_id" constraintName="tbl_annual_statisticalPK"
                       forIndexName="IX_tbl_annual_statisticalPK" tableName="tbl_annual_statistical"/>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1600506065252-644">
        <dropColumn columnName="C_CONTEXT_HTML" tableName="TBL_MESSAGE_CONTACT"/>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1600506065252-645">
        <dropColumn columnName="C_CONTEXT_TEXT" tableName="TBL_MESSAGE_CONTACT"/>
    </changeSet>
    <changeSet author="razmnoosh (generated)" id="1600843973327-512">
        <addColumn tableName="tbl_class_evaluation_goals">
            <column name="c_origin_question" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1601381769051-464">
        <addNotNullConstraint columnDataType="varchar(255 CHAR)" columnName="c_code" tableName="tbl_competence"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1601381769051-465">
        <addNotNullConstraint columnDataType="varchar(255 CHAR)" columnName="c_code" tableName="tbl_course"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1601381769051-466">
        <addNotNullConstraint columnDataType="varchar(255 CHAR)" columnName="c_code" tableName="tbl_term"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1601381769051-470">
        <addNotNullConstraint columnDataType="number(19,0)" columnName="scores_state_id" tableName="tbl_class_student"/>
    </changeSet>

    <changeSet author="golrokhi (generated)" id="1601704909443-660">
        <dropColumn columnName="N_MESSAGE_ID" tableName="TBL_MESSAGE_CONTACT"/>
    </changeSet>

    <changeSet author="golrokhi (generated)" id="1601709679462-517">
        <addColumn tableName="tbl_message">
            <column name="c_pid" type="varchar2(255 CHAR)">
                <constraints nullable="true"/>
            </column>
        </addColumn>
    </changeSet>
    <changeSet author="golrokhi (generated)" id="1601709679462-518">
        <addColumn tableName="tbl_message">
            <column name="f_orginal_message_message" type="number(19, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="golrokhi" id="ManualModifiedParameterValue-001">
        <modifyDataType tableName="tbl_parameter_value" columnName="c_description" newDataType="VARCHAR2(600 CHAR)"/>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1601702370446-516">
        <addColumn tableName="tbl_department">
            <column name="c_mojtame_code" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="poursalehi_mos (generated)" id="1601702370446-517">
        <addColumn tableName="tbl_department">
            <column name="c_mojtame_title" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="razmnoosh" id="ManualModifiedEvaluation-002">
        <modifyDataType tableName="tbl_evaluation" columnName="c_description" newDataType="VARCHAR2(600 CHAR)"/>
    </changeSet>
    <changeSet author="ASUS (generated)" id="1608547682490-521">
        <addColumn tableName="tbl_class">
            <column name="TEACHER_ONLINE_EVAL_STATUS" type="number(1, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="ASUS (generated)" id="1608547682490-520">
        <addColumn tableName="tbl_class">
            <column name="STUDENT_ONLINE_EVAL_STATUS" type="number(1, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="nick (generated)" id="1609332788904-520">
        <addColumn tableName="tbl_test_question">
            <column name="B_ONLINE_FINAL_EXAM_STATUS" type="number(1, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="namdari (generated)" id="1615109700956-475">
        <dropNotNullConstraint columnDataType="varchar(255 CHAR)" columnName="c_company_id" tableName="tbl_company"/>
        <dropNotNullConstraint columnDataType="varchar(255 CHAR)" columnName="c_economical_id" tableName="tbl_company"/>
        <dropNotNullConstraint columnDataType="varchar(255 CHAR)" columnName="c_register_id" tableName="tbl_company"/>
        <dropNotNullConstraint columnDataType="NUMBER(19, 0)" columnName="f_account_info_id" tableName="tbl_company"/>
    </changeSet>
    <changeSet author="nick (generated)" id="1615268221617-522">
        <addColumn tableName="tbl_class_document">
            <column name="c_description" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="MShahabi" id="1799887766557-014">
        <modifyDataType tableName="tbl_question_bank" columnName="c_question" newDataType="VARCHAR2(4000 CHAR)"/>
        <modifyDataType tableName="tbl_question_bank" columnName="c_option1" newDataType="VARCHAR2(4000 CHAR)"/>
        <modifyDataType tableName="tbl_question_bank" columnName="c_option2" newDataType="VARCHAR2(4000 CHAR)"/>
        <modifyDataType tableName="tbl_question_bank" columnName="c_option3" newDataType="VARCHAR2(4000 CHAR)"/>
        <modifyDataType tableName="tbl_question_bank" columnName="c_option4" newDataType="VARCHAR2(4000 CHAR)"/>
    </changeSet>
    <changeSet author="MShahabi" id="1799887766557-009">
        <addColumn tableName="tbl_training_post">
            <column name="c_mojtame_title" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="MShahabi" id="1799887766557-010">
        <addColumn tableName="tbl_post">
            <column name="c_mojtame_title" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="namdari" id="1620705168000-001">
        <addColumn tableName="tbl_attachment">
            <column name="group_id" type="VARCHAR2(255 CHAR)"/>
            <column name="key" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="MShahabi" id="1799887766557-015">
        <modifyDataType tableName="tbl_question_bank" columnName="c_descriptive_answer"
                        newDataType="VARCHAR2(4000 CHAR)"/>
    </changeSet>
    <changeSet author="MShahabi" id="1799887766557-016">
        <addColumn tableName="tbl_class">
            <column name="b_has_test" type="number(1, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="nick (generated)" id="1623473096661-525">
        <sql>
            <![CDATA[
                ALTER TABLE tbl_class ADD f_target_population_type_id number(19, 0);
                UPDATE tbl_class SET f_target_population_type_id = (SELECT id FROM TBL_PARAMETER_VALUE WHERE c_code = 'TargetPopulationOther');
                ALTER TABLE tbl_class MODIFY f_target_population_type_id NOT NULL;
            ]]>
        </sql>
        <addForeignKeyConstraint baseColumnNames="f_target_population_type_id" baseTableName="tbl_class"
                                 constraintName="FKfsvy7pf9o912i84vkmi88cw7k" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id"
                                 referencedTableName="tbl_parameter_value" validate="true"/>

    </changeSet>

    <changeSet author="namdari (generated)" id="1623579894000-1">
        <addColumn tableName="tbl_test_question">
            <column name="c_end_date" type="varchar2(255 CHAR)"/>
            <column name="c_end_time" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="nick (generated)" id="1623819623743-525">
        <sql>
            <![CDATA[
                ALTER TABLE tbl_class ADD f_holding_class_type_id number(19, 0);
                UPDATE tbl_class SET f_holding_class_type_id = (SELECT id FROM TBL_PARAMETER_VALUE WHERE c_code = 'intraOrganizational') where C_TEACHING_TYPE <> 'اعزام';
                UPDATE tbl_class SET f_holding_class_type_id = (SELECT id FROM TBL_PARAMETER_VALUE WHERE c_code = 'InTheCountryExtraOrganizational')  where C_TEACHING_TYPE = 'اعزام';
                ALTER TABLE tbl_class MODIFY f_holding_class_type_id NOT NULL;
            ]]>
        </sql>
        <addForeignKeyConstraint baseColumnNames="f_holding_class_type_id" baseTableName="tbl_class"
                                 constraintName="FKakayi0tf9no2id2um3y1wxgin" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id"
                                 referencedTableName="tbl_parameter_value" validate="true"/>
    </changeSet>
    <changeSet author="nick (generated)" id="1623819623743-526">
        <sql>
            <![CDATA[
                ALTER TABLE tbl_class ADD f_teaching_method_id number(19, 0);
                UPDATE tbl_class SET f_teaching_method_id = (SELECT id FROM TBL_PARAMETER_VALUE WHERE c_code = 'intraOrganizationalInPersonClass') where C_TEACHING_TYPE = 'حضوری';
                UPDATE tbl_class SET f_teaching_method_id = (SELECT id FROM TBL_PARAMETER_VALUE WHERE c_code = 'intraOrganizationalOnlineCourse') where C_TEACHING_TYPE = 'مجازی';
                UPDATE tbl_class SET f_teaching_method_id = (SELECT id FROM TBL_PARAMETER_VALUE WHERE c_code = 'intraOrganizationalPracticalClass') where C_TEACHING_TYPE = 'عملی و کارگاهی';
                UPDATE tbl_class SET f_teaching_method_id = (SELECT id FROM TBL_PARAMETER_VALUE WHERE c_code = 'intraOrganizationalRemotelyClass') where C_TEACHING_TYPE = 'غیر حضوری';
                UPDATE tbl_class SET f_teaching_method_id = (SELECT id FROM TBL_PARAMETER_VALUE WHERE c_code = 'intraOrganizationalAtWorkLearning') where C_TEACHING_TYPE = 'آموزش حین کار(OJT)';
                UPDATE tbl_class SET f_teaching_method_id = (SELECT id FROM TBL_PARAMETER_VALUE WHERE c_code = 'InTheCountryExtraOClassCourse') where C_TEACHING_TYPE = 'اعزام';
                ALTER TABLE tbl_class MODIFY f_teaching_method_id NOT NULL;
            ]]>
        </sql>
        <addForeignKeyConstraint baseColumnNames="f_teaching_method_id" baseTableName="tbl_class"
                                 constraintName="FKbla0dcn5qssm14l5foq53ax6v" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id"
                                 referencedTableName="tbl_parameter_value" validate="true"/>
    </changeSet>

    <changeSet author="zare" id="abiz-2283">
        <addColumn tableName="tbl_contact_info">
            <column name="c_mobile2" type="varchar2(15 CHAR)"/>
            <column name="c_mdms_mobile" type="varchar2(15 CHAR)"/>
            <column name="c_hr_mobile" type="varchar2(15 CHAR)"/>
            <column name="n_mobile_for_sms" type="number(1)"/>
        </addColumn>
        <addColumn tableName="tbl_student">
            <column name="f_contact_info" type="number(19, 0)"/>
        </addColumn>
        <addForeignKeyConstraint baseTableName="tbl_student" baseColumnNames="f_contact_info"
                                 constraintName="FK_tbl_student_contact_info" referencedTableName="tbl_contact_info"
                                 referencedColumnNames="id"/>
    </changeSet>
    <changeSet author="zare" id="abiz-2342">
        <sql>
            <![CDATA[
           alter table TBL_CONTACT_INFO add tmp_student_id number;
           merge into TBL_CONTACT_INFO c_info
           using (select *
                  from (
                           select row_number() over (partition by NATIONAL_CODE order by D_LAST_MODIFIED_DATE desc) as ix, s.*
                           from TBL_STUDENT s) s
                  where s.ix = 1
                    and f_contact_info is null) student
           on (student.f_contact_info = c_info.id)
           when not matched then
               insert (id, c_mobile, C_CREATED_BY, D_CREATED_DATE, N_VERSION, tmp_student_id)
               values (seq_contact_info_id.nextval, student.mobile, 'system(first mobile data from TBL_STUDENT)', sysdate, 0,
                       student.id);

           merge into TBL_STUDENT student
           using TBL_CONTACT_INFO c_info
           on (student.id = c_info.tmp_student_id)
           when matched then update set f_contact_info = c_info.id
           where f_contact_info is null;

           merge into TBL_STUDENT log_student
           using (select * from TBL_STUDENT s where f_contact_info is not null) student
           on (log_student.NATIONAL_CODE = student.NATIONAL_CODE)
           when matched then
                  update set f_contact_info = student.F_CONTACT_INFO
          where log_student.F_CONTACT_INFO is null;
          alter table TBL_CONTACT_INFO drop column tmp_student_id;
             ]]>
        </sql>
    </changeSet>
    <changeSet author="zare" id="abiz-2340">
        <sql>
            <![CDATA[

        merge into TBL_CONTACT_INFO c_info
        using (select * from TBL_STUDENT st where ACTIVE = 1 and DELETED = 0) student
        on (student.F_CONTACT_INFO = c_info.id)
        when matched then
        update
        set C_EMAIL = student.EMAIL;
        alter table TBL_STUDENT drop column EMAIL;
        alter table TBL_STUDENT drop column mobile;

             ]]>
        </sql>
    </changeSet>
    <changeSet author="zare" id="abiz-2340-2">
        <addColumn tableName="tbl_personnel">
            <column name="f_contact_info" type="number(19, 0)"/>
        </addColumn>
        <addForeignKeyConstraint baseTableName="tbl_personnel" baseColumnNames="f_contact_info"
                                 constraintName="FK_tbl_personnel_contact_info" referencedTableName="tbl_contact_info"
                                 referencedColumnNames="id"/>
    </changeSet>
    <changeSet author="zare" id="abiz-2340-data-migration">
        <sql>
            <![CDATA[

            alter table TBL_CONTACT_INFO add tmp_personnel_id number;
            merge into TBL_CONTACT_INFO c_info
            using (select * from TBL_PERSONNEL where ACTIVE = 1 and DELETED = 0 and f_contact_info is null) personnel
            on (personnel.f_contact_info = c_info.id)
            when not matched then
            insert (id, c_mobile, c_email, C_CREATED_BY, D_CREATED_DATE, N_VERSION, tmp_personnel_id)
            values (seq_contact_info_id.nextval, personnel.mobile,personnel.EMAIL, 'system(first mobile data from TBL_PERSONNEL)', sysdate, 0,
            personnel.id);

            merge into TBL_PERSONNEL personnel
            using TBL_CONTACT_INFO c_info
            on (personnel.id = c_info.tmp_personnel_id)
            when matched then update set f_contact_info = c_info.id
            where f_contact_info is null;

            merge into TBL_PERSONNEL log_personnel
            using (select * from TBL_PERSONNEL s where f_contact_info is not null) personnel
            on (log_personnel.NATIONAL_CODE = personnel.NATIONAL_CODE)
            when matched then
            update set f_contact_info = personnel.F_CONTACT_INFO
            where log_personnel.F_CONTACT_INFO is null;
            alter table TBL_CONTACT_INFO drop column tmp_personnel_id;

             ]]>
        </sql>
    </changeSet>
    <changeSet author="zare" id="abiz-2340-3">
        <addColumn tableName="tbl_contact_info">
            <column name="n_mobile_for_cn" type="number(1)"/>
        </addColumn>
    </changeSet>
    <changeSet author="zare" id="abiz-insert_student_trigger">
        <sql endDelimiter="/">
            <![CDATA[
              create or replace TRIGGER "INSERT_TBL_STUDENT" FOR
                         INSERT ON tbl_student
                     COMPOUND TRIGGER
                         TYPE t_student_type IS
                             TABLE OF tbl_student%rowtype INDEX BY PLS_INTEGER;
                         new_student t_student_type;
                         AFTER EACH ROW IS BEGIN
                             new_student(new_student.count + 1).id := :new.id;
                             new_student(new_student.count).personnel_no := :new.personnel_no;
                         END AFTER EACH ROW;
                         AFTER STATEMENT IS
                             person tbl_personnel%rowtype;
                         BEGIN
                             FOR indx IN 1..new_student.count LOOP
                                 BEGIN
                                     SELECT
                                         p.*
                                     INTO person
                                     FROM
                                         tbl_personnel p
                                     WHERE
                                         p.personnel_no = new_student(indx).personnel_no
                                         AND p.deleted = 0
                                         AND ROWNUM = 1;

                                 EXCEPTION
                                     WHEN no_data_found THEN
                                         person := NULL;
                                 END;

                                 IF person.id IS NOT NULL THEN
                                     UPDATE tbl_student s
                                     SET
                                         s.active = person.active,
                                         s.age = person.age,
                                         s.birth_certificate_no = person.birth_certificate_no,
                                         s.birth_date = person.birth_date,
                                         s.birth_place = person.birth_place,
                                         s.ccp_affairs = person.ccp_affairs,
                                         s.ccp_area = person.ccp_area,
                                         s.ccp_assistant = person.ccp_assistant,
                                         s.ccp_code = person.ccp_code,
                                         s.ccp_section = person.ccp_section,
                                         s.ccp_title = person.ccp_title,
                                         s.ccp_unit = person.ccp_unit,
                                         s.company_name = person.company_name,
                                         s.complex_title = person.complex_title,
                                         s.contract_description = person.contract_description,
                                         s.contract_no = person.contract_no,
                                         s.deleted = person.deleted,
                                         s.department_code = person.department_code,
                                         s.department_title = person.department_title,
                                         s.education_level_title = person.education_level_title,
                                         s.education_license_type_title = person.education_license_type_title,
                                         s.education_field_title = person.education_field_title,
                                         s.employment_date = person.employment_date,
                                         s.employment_status_title = person.employment_status_title,
                                         s.employment_status_id = person.employment_status_id,
                                         s.employment_type_title = person.employment_type_title,
                                         s.father_name = person.father_name,
                                         s.first_name = person.first_name,
                                         s.gender_title = person.gender_title,
                                         s.insurance_code = person.insurance_code,
                                         s.job_no = person.job_no,
                                         s.job_title = person.job_title,
                                         s.last_name = person.last_name,
                                         s.marital_status_title = person.marital_status_title,
                                         s.military_status_title = person.military_status_title,
                                         s.national_code = person.national_code,
                                         s.operational_unit_title = person.operational_unit_title,
                                         s.emp_no = person.emp_no,
                                         s.post_assignment_date = person.post_assignment_date,
                                         s.post_code = person.post_code,
                                         s.post_grade_code = person.post_grade_code,
                                         s.post_grade_title = person.post_grade_title,
                                         s.post_title = person.post_title,
                                         s.work_days = person.work_days,
                                         s.work_months = person.work_months,
                                         s.work_place_title = person.work_place_title,
                                         s.work_turn_title = person.work_turn_title,
                                         s.work_years = person.work_years,
                                         s.address = person.address,
                                         s.phone = person.phone,
                                         s.f_department_id = person.f_department_id,
                                         s.p_type = person.p_type,
                                         s.f_geo_id = person.f_geo_id,
                                         s.f_post_id = person.f_post_id,
                                         s.c_username = person.c_username
                                     WHERE
                                         s.id = new_student(indx).id;

                                 END IF;

                             END LOOP;
                         END AFTER STATEMENT;
                     END;
                     /
            ]]>
        </sql>
    </changeSet>
    <changeSet author="zare" id="abiz-2368">
        <addColumn tableName="TBL_PERSONNEL_REGISTERED">
            <column name="f_contact_info" type="number(19, 0)"/>
        </addColumn>
        <addForeignKeyConstraint baseTableName="TBL_PERSONNEL_REGISTERED" baseColumnNames="f_contact_info"
                                 constraintName="FK_tbl_personnel_reg_contact_info"
                                 referencedTableName="tbl_contact_info"
                                 referencedColumnNames="id"/>
    </changeSet>
    <changeSet author="zare" id="abiz-2368-data-migration">
        <sql>
            <![CDATA[
                alter table TBL_CONTACT_INFO add (tmp_personnel_id number);

                merge into TBL_CONTACT_INFO c_info
                            using (select * from TBL_PERSONNEL_REGISTERED where ACTIVE = 1  and f_contact_info is null) personnel
                            on (personnel.f_contact_info = c_info.id)
                            when not matched then
                            insert (id, c_mobile, c_email, C_CREATED_BY, D_CREATED_DATE, N_VERSION, tmp_personnel_id)
                            values (seq_contact_info_id.nextval, personnel.mobile,personnel.EMAIL, 'system(first mobile data from TBL_PERSONNEL_REGISTERED)', sysdate, 0,
                            personnel.id);

                merge into TBL_PERSONNEL_REGISTERED personnel
                            using TBL_CONTACT_INFO c_info
                            on (personnel.id = c_info.tmp_personnel_id)
                            when matched then update set f_contact_info = c_info.id
                            where f_contact_info is null;

                alter table TBL_CONTACT_INFO drop column tmp_personnel_id;
             ]]>
        </sql>
    </changeSet>
    <changeSet id="abiz-2368-view" author="zare">
        <createView viewName="VIEW_CONTACT_INFO" replaceIfExists="true">
            <![CDATA[
    SELECT "ID",
           "C_CREATED_BY",
           "D_CREATED_DATE",
           "E_DELETED",
           "E_ENABLED",
           "C_LAST_MODIFIED_BY",
           "D_LAST_MODIFIED_DATE",
           "N_VERSION",
           "C_EMAIL",
           "F_HOME_ADDRESS",
           "C_MOBILE",
           "C_PERSONAL_WEB_SITE",
           "F_WORK_ADDRESS",
           "C_MOBILE2",
           "C_MDMS_MOBILE",
           "C_HR_MOBILE",
           "N_MOBILE_FOR_SMS",
           "N_MOBILE_FOR_CN",
           case when n_mobile_for_sms is null then C_MOBILE
                        when n_mobile_for_sms = 0 then C_MOBILE
                        when n_mobile_for_sms = 1 then C_MOBILE2
                        when n_mobile_for_sms = 2 then c_hr_mobile
                        when n_mobile_for_sms = 3 then c_mdms_mobile
                  end as "MOBILE_FOR_SMS",
          case when n_mobile_for_CN is null then C_MOBILE
                        when n_mobile_for_CN = 0 then C_MOBILE
                        when n_mobile_for_CN = 1 then C_MOBILE2
                        when n_mobile_for_CN = 2 then c_hr_mobile
                        when n_mobile_for_CN = 3 then c_mdms_mobile
                  end as "MOBILE_FOR_CN"
    FROM TBL_CONTACT_INFO
            ]]>
        </createView>
    </changeSet>
    <changeSet id="abiz-2367" author="zare">
        <sql>
            <![CDATA[
                 ALTER TABLE TBL_CONTACT_INFO MODIFY C_MDMS_MOBILE VARCHAR2(50);
            ]]>
        </sql>
        <sql endDelimiter="/">
            <![CDATA[
create or replace PROCEDURE PRC_MERGE_TBL_CONTACT_INFO_MDMS AS
BEGIN
--------------------------- TBL_PERSONNEL ------------------------------------------------------------------------------

MERGE INTO TBL_CONTACT_INFO TR_CONTACT_INFO USING (
SELECT TR_PRS.F_CONTACT_INFO,C_NATIONAL_CODE,
       MDMS_CONTACT_INFO.C_MOBILE,
       MDMS_CONTACT_INFO.C_EMAIL
FROM (
    SELECT NVL(E.C_MOBILE, P.C_MOBILE) AS C_MOBILE,
           NVL(E.C_EMAIL, P.C_EMAIL) AS C_EMAIL,
           P.C_NATIONAL_CODE
    FROM MDMS_TBL_MD_PEOPLE     P
    FULL OUTER JOIN (SELECT C_EMAIL,C_MOBILE,C_NATIONAL_CODE
                      FROM (
                               SELECT E.*,
                                      ROW_NUMBER() OVER (PARTITION BY E.C_PEOPLE_ID
                                          ORDER BY C_ID DESC) AS INX
                               FROM   MDMS_TBL_MD_EMPLOYEE E
                           )
                      WHERE INX = 1
                     ) E ON E.C_NATIONAL_CODE = P.C_NATIONAL_CODE
) MDMS_CONTACT_INFO
INNER JOIN (SELECT F_CONTACT_INFO,NATIONAL_CODE FROM TBL_PERSONNEL WHERE DELETED = 0 AND  NATIONAL_CODE IS NOT NULL)TR_PRS  ON  TR_PRS.NATIONAL_CODE = MDMS_CONTACT_INFO.C_NATIONAL_CODE) MDMS_CONTACT_INFO
ON(MDMS_CONTACT_INFO.F_CONTACT_INFO = TR_CONTACT_INFO.ID)
WHEN MATCHED THEN UPDATE SET C_MDMS_MOBILE = MDMS_CONTACT_INFO.C_MOBILE, C_EMAIL = MDMS_CONTACT_INFO.C_EMAIL , D_LAST_MODIFIED_DATE = SYSDATE , C_LAST_MODIFIED_BY = 'CHARGOON';

--------------------------- TBL_PERSONNEL_REGISTERED -------------------------------------------------------------------

MERGE INTO TBL_CONTACT_INFO TR_CONTACT_INFO USING (
SELECT TR_PRS.F_CONTACT_INFO,C_NATIONAL_CODE,
       MDMS_CONTACT_INFO.C_MOBILE,
       MDMS_CONTACT_INFO.C_EMAIL
FROM (
    SELECT NVL(E.C_MOBILE, P.C_MOBILE) AS C_MOBILE,
           NVL(E.C_EMAIL, P.C_EMAIL) AS C_EMAIL,
           P.C_NATIONAL_CODE
    FROM MDMS_TBL_MD_PEOPLE     P
    FULL OUTER JOIN (SELECT C_EMAIL,C_MOBILE,C_NATIONAL_CODE
                      FROM (
                               SELECT E.*,
                                      ROW_NUMBER() OVER (PARTITION BY E.C_PEOPLE_ID
                                          ORDER BY C_ID DESC) AS INX
                               FROM   MDMS_TBL_MD_EMPLOYEE E
                           )
                      WHERE INX = 1
                     ) E ON E.C_NATIONAL_CODE = P.C_NATIONAL_CODE
) MDMS_CONTACT_INFO
INNER JOIN (SELECT F_CONTACT_INFO,NATIONAL_CODE FROM TBL_PERSONNEL_REGISTERED WHERE  NATIONAL_CODE IS NOT NULL)TR_PRS  ON  TR_PRS.NATIONAL_CODE = MDMS_CONTACT_INFO.C_NATIONAL_CODE) MDMS_CONTACT_INFO
ON(MDMS_CONTACT_INFO.F_CONTACT_INFO = TR_CONTACT_INFO.ID)
WHEN MATCHED THEN UPDATE SET C_MDMS_MOBILE = MDMS_CONTACT_INFO.C_MOBILE, C_EMAIL = MDMS_CONTACT_INFO.C_EMAIL , D_LAST_MODIFIED_DATE = SYSDATE , C_LAST_MODIFIED_BY = 'CHARGOON';

END;
/
            ]]>
        </sql>
    </changeSet>
    <changeSet id="abiz-2367-mdms-personnel-job" author="zare">
        <sql endDelimiter="/">
            <![CDATA[
             create or replace PROCEDURE PRC_MERGE_TBL_PERSONNEL_MDMS AS
BEGIN
------------UPDATE-------------------------------------------------------
MERGE INTO TBL_PERSONNEL T
USING (
    SELECT to_char(emp.c_em_number_10) AS personnel_no,
           emp.c_address               AS address,
           emp.c_ssn                   AS birth_certificate_no,
           emp.c_birthdate             AS birth_date,
           emp.c_birth_city            AS birth_place,
           emp.c_inc_dep_code          AS department_code,
           emp.c_inc_dep_title         AS department_title,
           emp.c_edu_lvl_title         AS education_level_title,
           emp.c_area_of_study         AS education_field_title,
           emp.c_emp_date              AS employment_date,
           emp.c_emp_status_id         AS employment_status_id,
           emp.c_father_name           AS father_name,
           emp.c_first_name            AS first_name,
           emp.c_last_name             AS last_name,
           emp.c_national_code         AS national_code,
           to_char(emp.c_em_number)    AS emp_no,
           emp.c_home_phone            AS phone,
           emp.post_code               AS post_code,
           emp.c_job_grade             AS post_grade_code,
           emp.post_title              AS post_title,
           emp.p_type                  AS p_type,
           emp.f_department_id         AS f_department_id,
           emp.f_geo_id                AS f_geo_id,
           emp.f_post_id               AS f_post_id,
           emp.work_place_title        AS work_place_title,
           emp.c_username              AS c_username,
           0                           AS deleted,
           emp.ccp_affairs             AS ccp_affairs,
           emp.ccp_area                AS ccp_area,
           emp.ccp_assistant           AS ccp_assistant,
           emp.marital_status_title    AS marital_status_title,
           emp.gender_title            AS gender_title,
           emp.EMPLOYMENT_STATUS_TITLE AS EMPLOYMENT_STATUS_TITLE,
           emp.EMPLOYMENT_TYPE_TITLE   AS EMPLOYMENT_TYPE_TITLE,
           emp.ccp_code                AS ccp_code,
           emp.ccp_section             AS ccp_section,
           emp.ccp_title               AS ccp_title,
           emp.ccp_unit                AS ccp_unit,
           emp.company_name            AS company_name
    FROM (SELECT emp.*,
                 emp.c_official_post_pure_title AS post_title,
                 CASE
                     WHEN emp.p_type = 'ContractorPersonal' THEN
                         geo.c_title
                     ELSE
                         'شرکت ملي صنايع مس ايران'
                     END                        AS company_name,
                 CASE
                     WHEN emp.c_gender = 'MALE' THEN
                         'مرد'
                     WHEN emp.c_gender = 'FEMALE' THEN
                         'زن'
                     END                        AS gender_title,
                 CASE
                     WHEN emp.c_martial_status = 'SINGLE' THEN
                         'مجرد'
                     WHEN emp.c_martial_status = 'MARRIED' THEN
                         'متاهل'
                     END                        AS marital_status_title,
                 geo.c_title                    AS work_place_title,
                 stat.c_title                   AS EMPLOYMENT_STATUS_TITLE,
                 type.c_title                   AS EMPLOYMENT_TYPE_TITLE,
                 dep.c_omor_title               AS ccp_affairs,
                 dep.c_hoze_title               AS ccp_area,
                 dep.c_moavenat_title           AS ccp_assistant,
                 dep.c_code                     AS ccp_code,
                 dep.c_ghesmat_title            AS ccp_section,
                 dep.c_title                    AS ccp_title,
                 dep.id                         AS f_department_id,
                 geo.id                         AS f_geo_id,
                 post.id                        AS f_post_id,
                 dep.c_vahed_title              AS ccp_unit,
                 post.C_CODE                    AS post_code
                 --emp.p_type                   AS p_type
          FROM (select po.c_username,
                       po.C_BIRTH_CITY,
                       po.C_BIRTHDATE,
                       po.C_FATHER_NAME,
                       po.C_FIRST_NAME,
                       po.C_GENDER,
                       po.C_LAST_NAME,
                       po.C_MARTIAL_STATUS,
                       po.C_NATIONAL_CODE,
                       po.C_SSN,
                       e.C_ID,
                       e.C_EM_NUMBER,
                       e.C_EM_NUMBER_10,
                       e.C_LICENCE,
                       e.C_LICENCE_TITLE,
                       e.C_EDU_LVL_TITLE,
                       e.C_AREA_OF_STUDY,
                       e.C_LICENCE_ID,
                       e.C_FIELD_ID,
                       e.C_DEP_ID,
                       e.C_DEP_CODE,
                       e.C_DEP_TITLE,
                       e.C_INC_DEP_ID,
                       e.C_INC_DEP_TITLE,
                       e.C_INC_DEP_CODE,
                       e.C_JOB_CODE,
                       e.C_OFFICIAL_POST_PURE_TITLE,
                       e.C_JOB_GRADE,
                       e.C_POST_ID,
                       e.C_ADDRESS,
                       e.P_TYPE,
                       e.C_PEOPLE_ID,
                       e.C_HOME_PHONE,
                       e.C_EMP_DATE,
                       e.C_GEO_ID,
                       e.C_EMP_TYPE_ID,
                       e.C_EMP_STATUS_ID,
                       e.C_WORK_TURN_ID,
                       e.C_WORK_EXPERIENCE_YEAR,
                       e.C_WORK_EXPERIENCE_MONTH,
                       e.C_WORK_EXPERIENCE_DAY,
                       e.C_LICENCE_CODE,
                       e.C_FIELD_CODE,
                       e.c_post_code
                FROM (select *
                      from (
                               select e.*,
                                      row_number() over (partition by e.c_people_id
                                          order by c_id desc) as inx
                               from   MDMS_tbl_md_employee e
                           )
                      where inx = 1
                     ) e
                         inner join  MDMS_tbl_md_people po on po.c_id = e.c_people_id
               ) emp
                   LEFT JOIN   MDMS_tbl_md_department mdms_dep ON emp.c_inc_dep_id = mdms_dep.c_id
                   LEFT JOIN tbl_department dep ON (mdms_dep.c_code = dep.c_code)
                   LEFT JOIN   MDMS_tbl_md_geo_work mdms_geo ON emp.c_geo_id = mdms_geo.c_id
                   LEFT JOIN TBL_GEO_WORK geo
                             on (geo.C_CODE = mdms_geo.c_code and geo.C_PEOPLE_TYPE = mdms_geo.C_PEOPLE_TYPE)
                   LEFT JOIN   MDMS_tbl_md_employee_STATUS stat ON emp.c_emp_status_id = stat.c_id
                   LEFT JOIN   MDMS_TBL_MD_EMPLOYMENT_TYPE type ON emp.c_emp_type_id = type.c_id
                   LEFT JOIN   MDMS_TBL_MD_POST mdms_post on mdms_post.c_id = emp.c_post_id
                   LEFT JOIN TBL_POST post
                             on mdms_post.c_code = post.c_code and post.C_PEOPLE_TYPE = mdms_post.C_PEOPLE_TYPE
         ) emp
             INNER JOIN (select * from TBL_PERSONNEL where DELETED = 0 and active = 1) TR_PERS
                        ON (emp.C_NATIONAL_CODE = TR_PERS.NATIONAL_CODE)
    where TR_PERS.personnel_no <> to_char(emp.c_em_number_10)
       OR (TR_PERS.personnel_no IS NULL
        AND to_char(emp.c_em_number_10) IS NOT NULL)
       OR (TR_PERS.personnel_no IS NOT NULL
        AND to_char(emp.c_em_number_10) IS NULL)
       OR TR_PERS.address <> address
       OR (TR_PERS.address IS NULL
        AND address IS NOT NULL)
       OR (TR_PERS.address IS NOT NULL
        AND address IS NULL)
       OR TR_PERS.birth_certificate_no <> birth_certificate_no
       OR (TR_PERS.birth_certificate_no IS NULL
        AND birth_certificate_no IS NOT NULL)
       OR (TR_PERS.birth_certificate_no IS NOT NULL
        AND birth_certificate_no IS NULL)
       OR TR_PERS.birth_date <> birth_date
       OR (TR_PERS.birth_date IS NULL
        AND birth_date IS NOT NULL)
       OR (TR_PERS.birth_date IS NOT NULL
        AND birth_date IS NULL)
       OR TR_PERS.birth_place <> birth_place
       OR (TR_PERS.birth_place IS NULL
        AND birth_place IS NOT NULL)
       OR (TR_PERS.birth_place IS NOT NULL
        AND birth_place IS NULL)
       OR TR_PERS.ccp_affairs <> emp.ccp_affairs
       OR (TR_PERS.ccp_affairs IS NULL
        AND emp.ccp_affairs IS NOT NULL)
       OR (TR_PERS.ccp_affairs IS NOT NULL
        AND emp.ccp_affairs IS NULL)
       OR TR_PERS.ccp_area <> emp.ccp_area
       OR (TR_PERS.ccp_area IS NULL
        AND emp.ccp_area IS NOT NULL)
       OR (TR_PERS.ccp_area IS NOT NULL
        AND emp.ccp_area IS NULL)
       OR TR_PERS.ccp_assistant <> emp.ccp_assistant
       OR (TR_PERS.ccp_assistant IS NULL
        AND emp.ccp_assistant IS NOT NULL)
       OR (TR_PERS.ccp_assistant IS NOT NULL
        AND emp.ccp_assistant IS NULL)
       OR TR_PERS.ccp_code <> emp.ccp_code
       OR (TR_PERS.ccp_code IS NULL
        AND emp.ccp_code IS NOT NULL)
       OR (TR_PERS.ccp_code IS NOT NULL
        AND emp.ccp_code IS NULL)
       OR TR_PERS.ccp_section <> emp.ccp_section
       OR (TR_PERS.ccp_section IS NULL
        AND emp.ccp_section IS NOT NULL)
       OR (TR_PERS.ccp_section IS NOT NULL
        AND emp.ccp_section IS NULL)
       OR TR_PERS.ccp_title <> emp.ccp_title
       OR (TR_PERS.ccp_title IS NULL
        AND emp.ccp_title IS NOT NULL)
       OR (TR_PERS.ccp_title IS NOT NULL
        AND emp.ccp_title IS NULL)
       OR TR_PERS.ccp_unit <> emp.ccp_unit
       OR (TR_PERS.ccp_unit IS NULL
        AND emp.ccp_unit IS NOT NULL)
       OR (TR_PERS.ccp_unit IS NOT NULL
        AND emp.ccp_unit IS NULL)
       OR TR_PERS.company_name <> emp.company_name
       OR (TR_PERS.company_name IS NULL
        AND emp.company_name IS NOT NULL)
       OR (TR_PERS.company_name IS NOT NULL
        AND emp.company_name IS NULL)
       OR TR_PERS.department_code <> department_code
       OR (TR_PERS.department_code IS NULL
        AND department_code IS NOT NULL)
       OR (TR_PERS.department_code IS NOT NULL
        AND department_code IS NULL)
       OR TR_PERS.department_title <> department_title
       OR (TR_PERS.department_title IS NULL
        AND department_title IS NOT NULL)
       OR (TR_PERS.department_title IS NOT NULL
        AND department_title IS NULL)
       OR TR_PERS.education_level_title <> emp.c_edu_lvl_title
       OR (TR_PERS.education_level_title IS NULL
        AND emp.c_edu_lvl_title IS NOT NULL)
       OR (TR_PERS.education_level_title IS NOT NULL
        AND emp.c_edu_lvl_title IS NULL)
       OR TR_PERS.education_field_title <> emp.c_area_of_study
       OR (TR_PERS.education_field_title IS NULL
        AND emp.c_area_of_study IS NOT NULL)
       OR (TR_PERS.education_field_title IS NOT NULL
        AND emp.c_area_of_study IS NULL)
       OR TR_PERS.employment_date <> emp.c_emp_date
       OR (TR_PERS.employment_date IS NULL
        AND emp.c_emp_date IS NOT NULL)
       OR (TR_PERS.employment_date IS NOT NULL
        AND emp.c_emp_date IS NULL)
       OR TR_PERS.employment_status_id <> emp.c_emp_status_id
       OR (TR_PERS.employment_status_id IS NULL
        AND emp.c_emp_status_id IS NOT NULL)
       OR (TR_PERS.employment_status_id IS NOT NULL
        AND emp.c_emp_status_id IS NULL)
       OR TR_PERS.EMPLOYMENT_STATUS_TITLE <> emp.EMPLOYMENT_STATUS_TITLE
       OR (TR_PERS.EMPLOYMENT_STATUS_TITLE IS NULL
        AND emp.EMPLOYMENT_STATUS_TITLE IS NOT NULL)
       OR (TR_PERS.EMPLOYMENT_STATUS_TITLE IS NOT NULL
        AND emp.EMPLOYMENT_STATUS_TITLE IS NULL)
       OR TR_PERS.EMPLOYMENT_TYPE_TITLE <> emp.EMPLOYMENT_TYPE_TITLE
       OR (TR_PERS.EMPLOYMENT_TYPE_TITLE IS NULL
        AND emp.EMPLOYMENT_TYPE_TITLE IS NOT NULL)
       OR (TR_PERS.EMPLOYMENT_TYPE_TITLE IS NOT NULL
        AND emp.EMPLOYMENT_TYPE_TITLE IS NULL)
       OR TR_PERS.father_name <> emp.c_father_name
       OR (TR_PERS.father_name IS NULL
        AND emp.c_father_name IS NOT NULL)
       OR (TR_PERS.father_name IS NOT NULL
        AND emp.c_father_name IS NULL)
       OR TR_PERS.first_name <> emp.c_first_name
       OR (TR_PERS.first_name IS NULL
        AND emp.c_first_name IS NOT NULL)
       OR (TR_PERS.first_name IS NOT NULL
        AND emp.c_first_name IS NULL)
       OR TR_PERS.gender_title <> emp.gender_title
       OR (TR_PERS.gender_title IS NULL
        AND emp.gender_title IS NOT NULL)
       OR (TR_PERS.gender_title IS NOT NULL
        AND emp.gender_title IS NULL)
       OR TR_PERS.last_name <> emp.c_last_name
       OR (TR_PERS.last_name IS NULL
        AND emp.c_last_name IS NOT NULL)
       OR (TR_PERS.last_name IS NOT NULL
        AND emp.c_last_name IS NULL)
       OR TR_PERS.marital_status_title <> emp.marital_status_title
       OR (TR_PERS.marital_status_title IS NULL
        AND emp.marital_status_title IS NOT NULL)
       OR (TR_PERS.marital_status_title IS NOT NULL
        AND emp.marital_status_title IS NULL)
       OR TR_PERS.national_code <> emp.c_national_code
       OR (TR_PERS.national_code IS NULL
        AND emp.c_national_code IS NOT NULL)
       OR (TR_PERS.national_code IS NOT NULL
        AND emp.c_national_code IS NULL)
       OR TR_PERS.emp_no <> to_char(emp.c_em_number)
       OR (TR_PERS.emp_no IS NULL
        AND to_char(emp.c_em_number) IS NOT NULL)
       OR (TR_PERS.emp_no IS NOT NULL
        AND to_char(emp.c_em_number) IS NULL)
       OR TR_PERS.phone <> emp.C_HOME_PHONE
       OR (TR_PERS.phone IS NULL
        AND emp.C_HOME_PHONE IS NOT NULL)
       OR (TR_PERS.phone IS NOT NULL
        AND emp.C_HOME_PHONE IS NULL)
       OR TR_PERS.post_code <> emp.post_code
       OR (TR_PERS.post_code IS NULL
        AND emp.post_code IS NOT NULL)
       OR (TR_PERS.post_code IS NOT NULL
        AND emp.post_code IS NULL)
       OR TR_PERS.post_grade_code <> emp.C_JOB_GRADE
       OR (TR_PERS.post_grade_code IS NULL
        AND emp.C_JOB_GRADE IS NOT NULL)
       OR (TR_PERS.post_grade_code IS NOT NULL
        AND emp.C_JOB_GRADE IS NULL)
       OR TR_PERS.post_title <> emp.post_title
       OR (TR_PERS.post_title IS NULL
        AND emp.post_title IS NOT NULL)
       OR (TR_PERS.post_title IS NOT NULL
        AND emp.post_title IS NULL)
       OR TR_PERS.p_type <> emp.p_type
       OR (TR_PERS.p_type IS NULL
        AND emp.p_type IS NOT NULL)
       OR (TR_PERS.p_type IS NOT NULL
        AND emp.p_type IS NULL)
       OR TR_PERS.f_department_id <> emp.f_department_id
       OR (TR_PERS.f_department_id IS NULL
        AND emp.f_department_id IS NOT NULL)
       OR (TR_PERS.f_department_id IS NOT NULL
        AND emp.f_department_id IS NULL)
       OR TR_PERS.f_geo_id <> emp.f_geo_id
       OR (TR_PERS.f_geo_id IS NULL
        AND emp.f_geo_id IS NOT NULL)
       OR (TR_PERS.f_geo_id IS NOT NULL
        AND emp.f_geo_id IS NULL)
       OR TR_PERS.f_post_id <> emp.f_post_id
       OR (TR_PERS.f_post_id IS NULL
        AND emp.f_post_id IS NOT NULL)
       OR (TR_PERS.f_post_id IS NOT NULL
        AND emp.f_post_id IS NULL)
       OR TR_PERS.deleted <> deleted
       OR (TR_PERS.deleted IS NULL
        AND deleted IS NOT NULL)
       OR (TR_PERS.deleted IS NOT NULL
        AND deleted IS NULL)
       OR TR_PERS.work_place_title <> emp.work_place_title
       OR (TR_PERS.work_place_title IS NULL
        AND emp.work_place_title IS NOT NULL)
       OR (TR_PERS.work_place_title IS NOT NULL
        AND emp.work_place_title IS NULL)
       OR TR_PERS.c_username <> emp.c_username
       OR (TR_PERS.c_username IS NULL
        AND emp.c_username IS NOT NULL)
       OR (TR_PERS.c_username IS NOT NULL
        AND emp.c_username IS NULL)
) CHANGES_
ON (CHANGES_.NATIONAL_CODE = T.NATIONAL_CODE and CHANGES_.deleted = T.DELETED)
WHEN MATCHED THEN
    UPDATE
    SET T.personnel_no            = CHANGES_.personnel_no,
        t.address                 = CHANGES_.address,
        t.birth_certificate_no    = CHANGES_.birth_certificate_no,
        t.birth_date              = CHANGES_.birth_date,
        t.birth_place             = CHANGES_.birth_place,
        t.ccp_affairs             = CHANGES_.ccp_affairs,
        t.ccp_area                = CHANGES_.ccp_area,
        t.ccp_assistant           = CHANGES_.ccp_assistant,
        t.ccp_code                = CHANGES_.ccp_code,
        t.ccp_section             = CHANGES_.ccp_section,
        t.ccp_title               = CHANGES_.ccp_title,
        t.ccp_unit                = CHANGES_.ccp_unit,
        t.company_name            = CHANGES_.company_name,
        t.department_code         = CHANGES_.department_code,
        t.department_title        = CHANGES_.department_title,
        t.education_level_title   = CHANGES_.education_level_title,
        t.education_field_title   = CHANGES_.education_field_title,
        t.employment_date         = CHANGES_.employment_date,
        t.employment_status_id    = CHANGES_.employment_status_id,
        t.EMPLOYMENT_STATUS_TITLE = CHANGES_.EMPLOYMENT_STATUS_TITLE,
        t.EMPLOYMENT_TYPE_TITLE   = CHANGES_.EMPLOYMENT_TYPE_TITLE,
        t.father_name             = CHANGES_.father_name,
        t.first_name              = CHANGES_.first_name,
        t.gender_title            = CHANGES_.gender_title,
        t.last_name               = CHANGES_.last_name,
        t.marital_status_title    = CHANGES_.marital_status_title,
        t.emp_no                  = CHANGES_.emp_no,
        t.phone                   = CHANGES_.phone,
        t.post_code               = CHANGES_.post_code,
        t.post_grade_code         = CHANGES_.post_grade_code,
        t.post_title              = CHANGES_.post_title,
        t.p_type                  = CHANGES_.p_type,
        t.f_department_id         = CHANGES_.f_department_id,
        t.f_geo_id                = CHANGES_.f_geo_id,
        t.f_post_id               = CHANGES_.f_post_id,
        t.work_place_title        = CHANGES_.work_place_title,
        t.c_username              = CHANGES_.c_username;

--------------INSERT-----------------------------------------------------

MERGE INTO TBL_PERSONNEL T
USING (
    SELECT to_char(emp.c_em_number_10)    AS personnel_no,
           emp.c_address                  AS address,
           emp.c_ssn                      AS birth_certificate_no,
           emp.c_birthdate                AS birth_date,
           emp.c_birth_city               AS birth_place,
           emp.ccp_affairs,
           emp.ccp_area,
           emp.ccp_assistant,
           emp.ccp_code,
           emp.ccp_section,
           emp.ccp_title,
           emp.ccp_unit,
           emp.department_code            AS department_code,
           emp.c_inc_dep_title            AS department_title,
           emp.c_edu_lvl_title            AS education_level_title,
           emp.c_area_of_study            AS education_field_title,
           emp.c_emp_date                 AS employment_date,
           emp.c_emp_status_id            AS employment_status_id,
           emp.EMPLOYMENT_STATUS_TITLE,
           emp.EMPLOYMENT_TYPE_TITLE,
           emp.c_father_name              AS father_name,
           emp.c_first_name               AS first_name,
           emp.c_last_name                AS last_name,
           emp.c_national_code            AS national_code,
           to_char(emp.c_em_number)       AS emp_no,
           emp.c_home_phone               AS phone,
           emp.c_post_code                AS post_code,
           emp.c_job_grade                AS post_grade_code,
           emp.c_official_post_pure_title AS post_title,
           emp.p_type                     AS p_type,
           --emp.c_inc_dep_id               AS f_department_id,
           --emp.c_geo_id                   AS f_geo_id,
           --emp.c_post_id                  AS f_post_id,
           emp.work_place_title           AS work_place_title,
           emp.c_username                 AS c_username,
           0                              AS deleted,
           emp.company_name               AS company_name,
           emp.gender_title               AS gender_title,
           emp.marital_status_title       AS marital_status_title,
           emp.f_geo_id                   AS f_geo_id,
           emp.f_department_id            AS f_department_id,
           emp.f_post_id                  AS f_post_id
    FROM (SELECT emp.*,
                 CASE
                     WHEN emp.p_type = 'ContractorPersonal' THEN
                         geo.c_title
                     ELSE
                         'شرکت ملي صنايع مس ايران'
                     END              AS company_name,
                 CASE
                     WHEN emp.c_gender = 'MALE' THEN
                         'مرد'
                     WHEN emp.c_gender = 'FEMALE' THEN
                         'زن'
                     END              AS gender_title,
                 CASE
                     WHEN emp.c_martial_status = 'SINGLE' THEN
                         'مجرد'
                     WHEN emp.c_martial_status = 'MARRIED' THEN
                         'متاهل'
                     END              AS marital_status_title,
                 geo.c_title          AS work_place_title,
                 stat.c_title         AS EMPLOYMENT_STATUS_TITLE,
                 type.c_title         AS EMPLOYMENT_TYPE_TITLE,
                 dep.c_omor_title     AS ccp_affairs,
                 dep.c_hoze_title     AS ccp_area,
                 dep.c_moavenat_title AS ccp_assistant,
                 dep.c_code           AS ccp_code,
                 dep.c_ghesmat_title  AS ccp_section,
                 dep.c_title          AS ccp_title,
                 dep.c_vahed_title    AS ccp_unit,
                 dep.c_code           AS department_code,
                 geo.id               AS f_geo_id,
                 dep.id               AS f_department_id,
                 post.id              As f_post_id
          FROM (select po.c_username,
                       po.C_BIRTH_CITY,
                       po.C_BIRTHDATE,
                       po.C_FATHER_NAME,
                       po.C_FIRST_NAME,
                       po.C_GENDER,
                       po.C_LAST_NAME,
                       po.C_MARTIAL_STATUS,
                       po.C_NATIONAL_CODE,
                       po.C_SSN,
                       e.C_ID,
                       e.C_EM_NUMBER,
                       e.C_EM_NUMBER_10,
                       e.C_LICENCE,
                       e.C_LICENCE_TITLE,
                       e.C_EDU_LVL_TITLE,
                       e.C_AREA_OF_STUDY,
                       e.C_LICENCE_ID,
                       e.C_FIELD_ID,
                       e.C_DEP_ID,
                       e.C_DEP_CODE,
                       e.C_DEP_TITLE,
                       e.C_INC_DEP_ID,
                       e.C_INC_DEP_TITLE,
                       e.C_INC_DEP_CODE,
                       e.C_JOB_CODE,
                       e.C_OFFICIAL_POST_PURE_TITLE,
                       e.C_JOB_GRADE,
                       e.C_POST_ID,
                       e.C_ADDRESS,
                       e.P_TYPE,
                       e.C_PEOPLE_ID,
                       e.C_HOME_PHONE,
                       e.C_EMP_DATE,
                       e.C_GEO_ID,
                       e.C_EMP_TYPE_ID,
                       e.C_EMP_STATUS_ID,
                       e.C_WORK_TURN_ID,
                       e.C_WORK_EXPERIENCE_YEAR,
                       e.C_WORK_EXPERIENCE_MONTH,
                       e.C_WORK_EXPERIENCE_DAY,
                       e.C_LICENCE_CODE,
                       e.C_FIELD_CODE,
                       e.c_post_code
                FROM (select *
                      from (
                               select e.*,
                                      row_number() over (partition by e.c_people_id
                                          order by c_id desc) as inx
                               from   MDMS_tbl_md_employee e)
                      where inx = 1) e
                         inner join   MDMS_tbl_md_people po on po.c_id = e.c_people_id
               ) emp
                   LEFT JOIN   MDMS_tbl_md_department mdms_dep ON emp.c_inc_dep_id = mdms_dep.c_id
                   LEFT JOIN TBL_DEPARTMENT dep on mdms_dep.c_code = dep.C_CODE
                   LEFT JOIN   MDMS_tbl_md_geo_work mdms_geo ON emp.c_geo_id = mdms_geo.c_id
                   LEFT JOIN TBL_GEO_WORK geo
                             on (geo.C_CODE = mdms_geo.c_code and geo.C_PEOPLE_TYPE = mdms_geo.C_PEOPLE_TYPE)
                   LEFT JOIN   MDMS_tbl_md_employee_STATUS stat ON emp.c_emp_status_id = stat.c_id
                   LEFT JOIN   MDMS_TBL_MD_EMPLOYMENT_TYPE type ON emp.c_emp_type_id = type.c_id
                   LEFT JOIN   MDMS_TBL_MD_POST mdms_post on mdms_post.c_id = emp.c_post_id
                   LEFT JOIN TBL_POST post
                             on mdms_post.c_code = post.c_code and post.C_PEOPLE_TYPE = mdms_post.C_PEOPLE_TYPE
         ) emp
             LEFT JOIN (select * from TBL_PERSONNEL where DELETED = 0 and active = 1) TR_PERS
                       ON (emp.C_NATIONAL_CODE = TR_PERS.NATIONAL_CODE)
    where TR_PERS.id IS NULL) NEW_
ON (NEW_.NATIONAL_CODE = T.NATIONAL_CODE)
WHEN NOT MATCHED THEN
    INSERT (id,
            active,
            deleted,
            personnel_no,
            address,
            birth_certificate_no,
            birth_date,
            birth_place,
            ccp_affairs,
            ccp_area,
            ccp_assistant,
            ccp_code,
            ccp_section,
            ccp_title,
            ccp_unit,
            company_name,
            department_code,
            department_title,
            education_level_title,
            education_field_title,
            employment_date,
            employment_status_id,
            EMPLOYMENT_STATUS_TITLE,
            EMPLOYMENT_TYPE_TITLE,
            father_name,
            first_name,
            gender_title,
            last_name,
            marital_status_title,
            national_code,
            emp_no,
            phone,
            post_code,
            post_grade_code,
            post_title,
            p_type,
            f_department_id,
            f_geo_id,
            f_post_id,
            work_place_title,
            c_username)
    VALUES (SEQ_PERSONAL_ID.NEXTVAL,
            1,
            0,
            NEW_.personnel_no,
            NEW_.address,
            NEW_.birth_certificate_no,
            NEW_.birth_date,
            NEW_.birth_place,
            NEW_.ccp_affairs,
            NEW_.ccp_area,
            NEW_.ccp_assistant,
            NEW_.ccp_code,
            NEW_.ccp_section,
            NEW_.ccp_title,
            NEW_.ccp_unit,
            NEW_.company_name,
            NEW_.department_code,
            NEW_.department_title,
            NEW_.education_level_title,
            NEW_.education_field_title,
            NEW_.employment_date,
            NEW_.employment_status_id,
            NEW_.EMPLOYMENT_STATUS_TITLE,
            NEW_.EMPLOYMENT_TYPE_TITLE,
            NEW_.father_name,
            NEW_.first_name,
            NEW_.gender_title,
            NEW_.last_name,
            NEW_.marital_status_title,
            NEW_.national_code,
            NEW_.emp_no,
            NEW_.phone,
            NEW_.post_code,
            NEW_.post_grade_code,
            NEW_.post_title,
            NEW_.p_type,
            NEW_.f_department_id,
            NEW_.f_geo_id,
            NEW_.f_post_id,
            NEW_.work_place_title,
            NEW_.c_username);


----------- UPDATE DELETED PERSONALS ----------------------

UPDATE TBL_PERSONNEL SET DELETED = 1 WHERE ID IN (SELECT PRS_EXIST_TR.ID
      FROM TBL_PERSONNEL PRS_EXIST_TR
               LEFT JOIN   MDMS_tbl_md_employee PRS_MDMS ON PRS_MDMS.C_NATIONAL_CODE = PRS_EXIST_TR.NATIONAL_CODE
      WHERE PRS_EXIST_TR.DELETED = 0 AND PRS_MDMS.C_ID IS NULL);

end;
   /
            ]]>
        </sql>
    </changeSet>
    <changeSet id="abiz-2367-PRC_MERGE_MDMS" author="zare">
        <sql endDelimiter="/">
            <![CDATA[
            create or replace PROCEDURE PRC_MERGE_MDMS AS
            BEGIN
            DECLARE
            err_code VARCHAR2(30);
            err_msg  VARCHAR2(500);
            BEGIN
            ----------------------------------------------------------------------------------------------------------------
            BEGIN
            PRC_DUPLICATED_ROW_CHECK_MDMS();
            EXCEPTION
            WHEN OTHERS
            THEN
            err_code := SQLCODE;
            err_msg := SUBSTR(SQLERRM, 1, 300);
            insert into TBL_MDMS_PRC_LOG(id, DATE_, LOG_MSG)
            values (SEQ_MDMS_PRC_LOG_ID.nextval, sysdate, err_msg);
            commit;
            raise;
            END;
            ----------------------------------------------------------------------------------------------------------------
            BEGIN
            PRC_MERGE_TBL_DEPARTMENT_MDMS();
            EXCEPTION
            WHEN OTHERS
            THEN
            err_code := SQLCODE;
            err_msg := SUBSTR(SQLERRM, 1, 300);
            insert into TBL_MDMS_PRC_LOG(id, DATE_, LOG_MSG, TABLE_NAME)
            values (SEQ_MDMS_PRC_LOG_ID.nextval, sysdate, err_msg, 'TBL_DEPARTMENT');
            commit;
            raise;
            END;
            ----------------------------------------------------------------------------------------------------------------
            BEGIN
            PRC_MERGE_TBL_GEO_WORK_MDMS();
            EXCEPTION
            WHEN OTHERS
            THEN
            err_code := SQLCODE;
            err_msg := SUBSTR(SQLERRM, 1, 300);
            insert into TBL_MDMS_PRC_LOG(id, DATE_, LOG_MSG, TABLE_NAME)
            values (SEQ_MDMS_PRC_LOG_ID.nextval, sysdate, err_msg, 'TBL_GEO_WORK');
            commit;
            raise;
            END;
            ----------------------------------------------------------------------------------------------------------------
            BEGIN
            PRC_MERGE_TBL_JOB_MDMS();
            EXCEPTION
            WHEN OTHERS
            THEN
            err_code := SQLCODE;
            err_msg := SUBSTR(SQLERRM, 1, 300);
            insert into TBL_MDMS_PRC_LOG(id, DATE_, LOG_MSG, TABLE_NAME)
            values (SEQ_MDMS_PRC_LOG_ID.nextval, sysdate, err_msg, 'TBL_JOB_WORK');
            commit;
            raise;
            END;
            ----------------------------------------------------------------------------------------------------------------
            BEGIN
            PRC_MERGE_TBL_POST_GRADE_MDMS();
            EXCEPTION
            WHEN OTHERS
            THEN
            err_code := SQLCODE;
            err_msg := SUBSTR(SQLERRM, 1, 300);
            insert into TBL_MDMS_PRC_LOG(id, DATE_, LOG_MSG, TABLE_NAME)
            values (SEQ_MDMS_PRC_LOG_ID.nextval, sysdate, err_msg, 'TBL_POST_GRADE');
            commit;
            raise;
            END;
            ----------------------------------------------------------------------------------------------------------------
            BEGIN
            PRC_MERGE_TBL_PERSONNEL_MDMS();
            EXCEPTION
            WHEN OTHERS
            THEN
            err_code := SQLCODE;
            err_msg := SUBSTR(SQLERRM, 1, 300);
            insert into TBL_MDMS_PRC_LOG(id, DATE_, LOG_MSG, TABLE_NAME)
            values (SEQ_MDMS_PRC_LOG_ID.nextval, sysdate, err_msg, 'TBL_PERSONNEL');
            commit;
            raise;
            END;
            ----------------------------------------------------------------------------------------------------------------
            BEGIN
            PRC_MERGE_TBL_POST_MDMS();
            EXCEPTION
            WHEN OTHERS
            THEN
            err_code := SQLCODE;
            err_msg := SUBSTR(SQLERRM, 1, 300);
            insert into TBL_MDMS_PRC_LOG(id, DATE_, LOG_MSG, TABLE_NAME)
            values (SEQ_MDMS_PRC_LOG_ID.nextval, sysdate, err_msg, 'TBL_POST');
            commit;
            raise;
            END;
            ----------------------------------------------------------------------------------------------------------------
            BEGIN
            PRC_MERGE_TBL_CONTACT_INFO_MDMS();
            EXCEPTION
            WHEN OTHERS
            THEN
            err_code := SQLCODE;
            err_msg := SUBSTR(SQLERRM, 1, 300);
            insert into TBL_MDMS_PRC_LOG(id, DATE_, LOG_MSG, TABLE_NAME)
            values (SEQ_MDMS_PRC_LOG_ID.nextval, sysdate, err_msg, 'TBL_CONTACT_INFO');
            commit;
            raise;
            END;
            END;
            END;
            /
            ]]>
        </sql>
    </changeSet>
    <changeSet author="zare" id="abiz-2368-data-migration-drop-columns">
        <sql>
            <![CDATA[

            alter table TBL_CONTACT_INFO add tmp_personnel_id number;
            merge into TBL_CONTACT_INFO c_info
            using (select * from TBL_PERSONNEL where ACTIVE = 1 and DELETED = 0 and f_contact_info is null) personnel
            on (personnel.f_contact_info = c_info.id)
            when not matched then
            insert (id, c_mobile, c_email, C_CREATED_BY, D_CREATED_DATE, N_VERSION, tmp_personnel_id)
            values (seq_contact_info_id.nextval, personnel.mobile,personnel.EMAIL, 'system(first mobile data from TBL_PERSONNEL)', sysdate, 0,
            personnel.id);

            merge into TBL_PERSONNEL personnel
            using TBL_CONTACT_INFO c_info
            on (personnel.id = c_info.tmp_personnel_id)
            when matched then update set f_contact_info = c_info.id
            where f_contact_info is null;

            merge into TBL_PERSONNEL log_personnel
            using (select * from TBL_PERSONNEL s where f_contact_info is not null) personnel
            on (log_personnel.NATIONAL_CODE = personnel.NATIONAL_CODE)
            when matched then
            update set f_contact_info = personnel.F_CONTACT_INFO
            where log_personnel.F_CONTACT_INFO is null;

            ------------------------------    forever deleted personnel    -----------------------------

            merge into TBL_CONTACT_INFO c_info
            using (select * from TBL_PERSONNEL where  f_contact_info is null)  deleted_personnel
            on (deleted_personnel.f_contact_info = c_info.id)
            when not matched then
            insert (id, c_mobile, c_email, C_CREATED_BY, D_CREATED_DATE, N_VERSION, tmp_personnel_id)
            values (seq_contact_info_id.nextval, deleted_personnel.mobile,deleted_personnel.EMAIL, 'system(mobile from TBL_PERSONNEL(forever-deleted-person))', sysdate, 0,
            deleted_personnel.id);

            merge into TBL_PERSONNEL personnel
            using TBL_CONTACT_INFO c_info
            on (personnel.id = c_info.tmp_personnel_id)
            when matched then update set f_contact_info = c_info.id
            where f_contact_info is null;

            alter table TBL_CONTACT_INFO drop column tmp_personnel_id;

             ]]>
        </sql>
        <dropColumn tableName="TBL_PERSONNEL" columnName="MOBILE"/>
        <dropColumn tableName="TBL_PERSONNEL" columnName="EMAIL"/>

        <dropColumn tableName="TBL_PERSONNEL_REGISTERED" columnName="MOBILE"/>
        <dropColumn tableName="TBL_PERSONNEL_REGISTERED" columnName="EMAIL"/>

    </changeSet>

    <changeSet author="zare" id="abiz-2368-CONTACT_INFO_MDMS">
        <sql endDelimiter="/">
            <![CDATA[
     create OR REPLACE PROCEDURE PRC_MERGE_TBL_CONTACT_INFO_MDMS AS
            BEGIN
            -------------------------- NEW CONTACT-INFOS ---------------------------------------------------------------------------
                DECLARE
                    CURSOR NEW_PERSONNELS IS SELECT ID, F_CONTACT_INFO
                                             FROM TBL_PERSONNEL
                                             WHERE F_CONTACT_INFO IS NULL FOR UPDATE OF F_CONTACT_INFO;
                    NEXT_ID NUMBER;
                BEGIN
                    FOR P IN NEW_PERSONNELS
                        LOOP
                            SELECT SEQ_CONTACT_INFO_ID.nextval INTO NEXT_ID FROM DUAL;
                            INSERT INTO TBL_CONTACT_INFO(ID, C_CREATED_BY, D_CREATED_DATE, N_VERSION)
                            VALUES (NEXT_ID, 'PRC_MERGE(NEW PERSONNEL)', SYSDATE, 0);
                            UPDATE TBL_PERSONNEL SET F_CONTACT_INFO = NEXT_ID WHERE CURRENT OF NEW_PERSONNELS;
                        END LOOP;
                END;

                DECLARE
                    CURSOR NEW_PERSONNELS IS SELECT ID, F_CONTACT_INFO
                                             FROM TBL_PERSONNEL_REGISTERED
                                             WHERE F_CONTACT_INFO IS NULL FOR UPDATE OF F_CONTACT_INFO;
                    NEXT_ID NUMBER;
                BEGIN
                    FOR P IN NEW_PERSONNELS
                        LOOP
                            SELECT SEQ_CONTACT_INFO_ID.nextval INTO NEXT_ID FROM DUAL;
                            INSERT INTO TBL_CONTACT_INFO(ID, C_CREATED_BY, D_CREATED_DATE, N_VERSION)
                            VALUES (NEXT_ID, 'PRC_MERGE(NEW PERSONNEL_REGISTERED)', SYSDATE, 0);
                            UPDATE TBL_PERSONNEL_REGISTERED SET F_CONTACT_INFO = NEXT_ID WHERE CURRENT OF NEW_PERSONNELS;
                        END LOOP;
                END;

            --------------------------- TBL_PERSONNEL ------------------------------------------------------------------------------
                MERGE INTO TBL_CONTACT_INFO TR_CONTACT_INFO
                USING (
                    SELECT TR_PRS.F_CONTACT_INFO,
                           C_NATIONAL_CODE,
                           MDMS_CONTACT_INFO.C_MOBILE,
                           MDMS_CONTACT_INFO.C_EMAIL
                    FROM (
                             SELECT NVL(E.C_MOBILE, P.C_MOBILE) AS C_MOBILE,
                                    NVL(E.C_EMAIL, P.C_EMAIL)   AS C_EMAIL,
                                    P.C_NATIONAL_CODE
                             FROM MDMS_TBL_MD_PEOPLE P
                                      FULL OUTER JOIN (SELECT C_EMAIL, C_MOBILE, C_NATIONAL_CODE
                                                       FROM (
                                                                SELECT E.*,
                                                                       ROW_NUMBER() OVER (PARTITION BY E.C_PEOPLE_ID
                                                                           ORDER BY C_ID DESC) AS INX
                                                                FROM MDMS_TBL_MD_EMPLOYEE E
                                                            )
                                                       WHERE INX = 1
                             ) E ON E.C_NATIONAL_CODE = P.C_NATIONAL_CODE
                         ) MDMS_CONTACT_INFO
                             INNER JOIN (SELECT F_CONTACT_INFO, NATIONAL_CODE
                                         FROM TBL_PERSONNEL
                                         WHERE DELETED = 0 AND NATIONAL_CODE IS NOT NULL) TR_PRS
                                        ON TR_PRS.NATIONAL_CODE = MDMS_CONTACT_INFO.C_NATIONAL_CODE) MDMS_CONTACT_INFO
                ON (MDMS_CONTACT_INFO.F_CONTACT_INFO = TR_CONTACT_INFO.ID)
                WHEN MATCHED THEN
                    UPDATE
                    SET C_MDMS_MOBILE        = MDMS_CONTACT_INFO.C_MOBILE,
                        C_EMAIL              = MDMS_CONTACT_INFO.C_EMAIL,
                        D_LAST_MODIFIED_DATE = SYSDATE,
                        C_LAST_MODIFIED_BY   = 'CHARGOON';

            --------------------------- TBL_PERSONNEL_REGISTERED -------------------------------------------------------------------
                MERGE INTO TBL_CONTACT_INFO TR_CONTACT_INFO
                USING (
                    SELECT TR_PRS.F_CONTACT_INFO,
                           C_NATIONAL_CODE,
                           MDMS_CONTACT_INFO.C_MOBILE,
                           MDMS_CONTACT_INFO.C_EMAIL
                    FROM (
                             SELECT NVL(E.C_MOBILE, P.C_MOBILE) AS C_MOBILE,
                                    NVL(E.C_EMAIL, P.C_EMAIL)   AS C_EMAIL,
                                    P.C_NATIONAL_CODE
                             FROM MDMS_TBL_MD_PEOPLE P
                                      FULL OUTER JOIN (SELECT C_EMAIL, C_MOBILE, C_NATIONAL_CODE
                                                       FROM (
                                                                SELECT E.*,
                                                                       ROW_NUMBER() OVER (PARTITION BY E.C_PEOPLE_ID
                                                                           ORDER BY C_ID DESC) AS INX
                                                                FROM MDMS_TBL_MD_EMPLOYEE E
                                                            )
                                                       WHERE INX = 1
                             ) E ON E.C_NATIONAL_CODE = P.C_NATIONAL_CODE
                         ) MDMS_CONTACT_INFO
                             INNER JOIN (SELECT F_CONTACT_INFO, NATIONAL_CODE
                                         FROM TBL_PERSONNEL_REGISTERED
                                         WHERE NATIONAL_CODE IS NOT NULL) TR_PRS
                                        ON TR_PRS.NATIONAL_CODE = MDMS_CONTACT_INFO.C_NATIONAL_CODE) MDMS_CONTACT_INFO
                ON (MDMS_CONTACT_INFO.F_CONTACT_INFO = TR_CONTACT_INFO.ID)
                WHEN MATCHED THEN
                    UPDATE
                    SET C_MDMS_MOBILE        = MDMS_CONTACT_INFO.C_MOBILE,
                        C_EMAIL              = MDMS_CONTACT_INFO.C_EMAIL,
                        D_LAST_MODIFIED_DATE = SYSDATE,
                        C_LAST_MODIFIED_BY   = 'CHARGOON';

            END ;
            /
             ]]>
        </sql>
    </changeSet>
    <changeSet id="abiz-2368-VIEW_ACTIVE_PERSONNEL" author="zare">
        <createView viewName="VIEW_ACTIVE_PERSONNEL" replaceIfExists="true">
            <![CDATA[
  SELECT prs.*,prs.first_name || '  ' || prs.last_name as C_FULL_NAME ,vw.c_mobile as mobile,vw.c_email as email
        FROM tbl_personnel prs left join view_contact_info vw on vw.id = prs.f_contact_info
        WHERE prs.deleted=0
             ]]>
        </createView>
    </changeSet>
    <changeSet author="MShahabi" id="1799887766557-022">
        <addColumn tableName="tbl_class">
            <column name="b_class_to_online_status" type="number(1, 0)"/>
        </addColumn>
    </changeSet>


    <changeSet author="zare" id="abiz-2429">
        <addUniqueConstraint tableName="TBL_PERSONNEL_REGISTERED" columnNames="NATIONAL_CODE"
                             constraintName="unique_NATIONAL_CODE"/>
        <addUniqueConstraint tableName="TBL_PERSONNEL_REGISTERED" columnNames="F_CONTACT_INFO"
                             constraintName="unique_CONTACT_INFO"/>
    </changeSet>
    <changeSet author="nick (generated)" id="1626690510501-534">
        <sql>
            <![CDATA[
                ALTER TABLE tbl_session ADD b_teacher_attendance_permission number(1, 0);
                UPDATE tbl_session SET b_teacher_attendance_permission = 0;
                ALTER TABLE tbl_session MODIFY b_teacher_attendance_permission NOT NULL;
            ]]>
        </sql>
    </changeSet>

    <changeSet author="namdari" id="namdari-2424">
        <addColumn tableName="tbl_question_bank">
            <column name="has_attachment" type="number(1, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="namdari" id="namdari-2521">
        <createView viewName="VIEW_REACTION_EVALUATION_FORMULA_REPORT" replaceIfExists="true">
            <![CDATA[
               SELECT
    ROWNUM                 AS id,
    tclass.id              AS class_id,
    tclass.c_code          AS class_code,
    tclass.c_status        AS class_status,
    tclass.c_start_date    AS class_start_date,
    tclass.c_end_date      AS class_end_date,
    course.id              AS course_id,
    course.c_code          AS course_code,
    course.c_title_fa      AS course_titlefa,
    cat.c_title_fa         AS category_titlefa,
    sucat.c_title_fa       AS sub_category_titlefa,
    tbl_personal_info.c_first_name_fa as teacherName,

    tbl_personal_info.c_last_name_fa as teacherFamily ,
        tbl_personal_info.c_national_code as teacherNationalCode
FROM
         tbl_class tclass
    INNER JOIN tbl_course        course ON tclass.f_course = course.id
    INNER JOIN tbl_category      cat ON cat.id = course.category_id
    INNER JOIN tbl_sub_category  sucat ON sucat.id = course.subcategory_id
    INNER JOIN tbl_teacher ON tclass.f_teacher = tbl_teacher.id
    INNER JOIN tbl_personal_info ON tbl_teacher.f_personality = tbl_personal_info.id
WHERE
    tclass.c_status != '1'
             ]]>
        </createView>
    </changeSet>
    <changeSet author="namdari" id="namdari-2521-2">
        <createView viewName="VIEW_REACTION_EVALUATION_FORMULA_REPORT" replaceIfExists="true">
            <![CDATA[
        SELECT
    ROWNUM                 AS id,
    tclass.id              AS class_id,
    tclass.c_code          AS class_code,
    tclass.c_status        AS class_status,
    tclass.c_start_date    AS class_start_date,
    tclass.c_end_date      AS class_end_date,
    course.id              AS course_id,
    course.c_code          AS course_code,
    course.c_title_fa      AS course_titlefa,
    cat.c_title_fa         AS category_titlefa,
    sucat.c_title_fa       AS sub_category_titlefa,
    tbl_personal_info.c_first_name_fa as teacher_name,

    tbl_personal_info.c_last_name_fa as teacher_family ,
        tbl_personal_info.c_national_code as teacher_national_code
FROM
         tbl_class tclass
    INNER JOIN tbl_course        course ON tclass.f_course = course.id
    INNER JOIN tbl_category      cat ON cat.id = course.category_id
    INNER JOIN tbl_sub_category  sucat ON sucat.id = course.subcategory_id
    INNER JOIN tbl_teacher ON tclass.f_teacher = tbl_teacher.id
    INNER JOIN tbl_personal_info ON tbl_teacher.f_personality = tbl_personal_info.id
WHERE
    tclass.c_status != '1'
             ]]>
        </createView>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-023">
        <addColumn tableName="tbl_question_bank">
            <column name="e_question_level" type="NUMBER(10, 0)" defaultValueNumeric="1"/>
        </addColumn>
    </changeSet>

    <changeSet author="namdari (generated)" id="2532-1">
        <addColumn tableName="tbl_class">
            <column name="complex_id" type="number(19, 0)"/>
            <column name="assistant_id" type="number(19, 0)"/>
            <column name="affairs_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="nima (generated)" id="15926446194875-454214">
        <addColumn tableName="tbl_class_student">
            <column name="EXAM_STATE" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="namdari (generated)" id="2563-1">
        <addColumn tableName="tbl_question_bank">
            <column name="question_target" type="NUMBER(10, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="nima (generated)" id="1630923062507-536">
        <createSequence sequenceName="seq_login_log_id"/>
    </changeSet>
    <changeSet author="nima (generated)" id="163092362507-537">
        <createTable tableName="tbl_login_log">
            <column name="id" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="tbl_login_logPK"/>
            </column>
            <column name="CREATE_DATE" type="date"/>
            <column name="FIRST_NAME" type="VARCHAR2(255 CHAR)"/>
            <column name="HASH_TOKEN" type="VARCHAR2(255 CHAR)"/>
            <column name="LAST_NAME" type="VARCHAR2(255 CHAR)"/>
            <column name="NATIONAL_CODE" type="VARCHAR2(255 CHAR)"/>
            <column name="LOGIN_STATE" type="VARCHAR2(255 CHAR)"/>
            <column name="USER_NAME" type="VARCHAR2(255 CHAR)"/>
        </createTable>
    </changeSet>
    <changeSet author="nick (generated)" id="1631425644558-538">
        <createTable tableName="tbl_need_assessment_group_result">
            <column name="id" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="tbl_need_assessment_group_resultPK"/>
            </column>
            <column name="CREATE_DATE" type="TIMESTAMP"/>
            <column name="CREATED_BY" type="VARCHAR2(255 CHAR)"/>
            <column name="MINIO_REFERENCE" type="VARCHAR2(255 CHAR)"/>
        </createTable>
    </changeSet>


    <changeSet author="nima (generated)" id="1631430089965-539">
        <createTable tableName="tbl_role">
            <column name="id" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="tbl_rolePK"/>
            </column>
            <column name="NAME" type="VARCHAR2(255 CHAR)"/>
        </createTable>
    </changeSet>
    <changeSet author="nima (generated)" id="1631430089965-540">
        <createTable tableName="tbl_teacher_roles">
            <column name="id" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="tbl_teacher_rolesPK"/>
            </column>
            <column name="ROLE_ID" type="NUMBER(19, 0)"/>
            <column name="TEACHER_ID" type="NUMBER(19, 0)"/>
        </createTable>
    </changeSet>
    <changeSet author="nima (generated)" id="1631611897716-540">
        <createTable tableName="tbl_mobile_verify">
            <column name="id" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="tbl_mobile_verifyPK"/>
            </column>
            <column name="FAMILY" type="VARCHAR2(255 CHAR)"/>
            <column name="MOBILE_NUMBER" type="VARCHAR2(255 CHAR)"/>
            <column name="NAME" type="VARCHAR2(255 CHAR)"/>
            <column name="NATIONAL_CODE" type="VARCHAR2(255 CHAR)"/>
            <column name="VERIFY" type="NUMBER(1, 0)"/>
        </createTable>
    </changeSet>


    <changeSet author="nima (generated)" id="15926446194875-45478">
        <addColumn tableName="tbl_role">
            <column name="DESCRIPTION" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="namdari (generated)" id="1631606843128-534">
        <createTable tableName="tbl_question_bank_target">
            <column name="f_question" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="targets" type="NUMBER(19, 0)"/>
        </createTable>
        <addForeignKeyConstraint baseColumnNames="f_question" baseTableName="tbl_question_bank_target"
                                 constraintName="FK_tbl_parameter_value_question_bank" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="id"
                                 referencedTableName="tbl_question_bank" validate="true"/>

    </changeSet>

    <changeSet author="namdari (generated)" id="1631606843128-535">
        <dropColumn columnName="question_target" tableName="tbl_question_bank"/>
    </changeSet>

    <changeSet author="namdari (generated)" id="1631938594000-1">
        <addColumn tableName="tbl_class_student">
            <column name="TEST_SCORE" type="FLOAT"/>
            <column name="DESCRIPTIVEـSCORE" type="FLOAT"/>
        </addColumn>
    </changeSet>

    <changeSet author="xaniar (generated)" id="1632032662000-1">
        <addColumn tableName="tbl_role">
            <column name="c_created_by" type="VARCHAR2(255 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="d_created_date" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column name="e_deleted" type="NUMBER(19, 0)"/>
            <column name="e_enabled" type="NUMBER(19, 0)"/>
            <column name="c_last_modified_by" type="VARCHAR2(255 CHAR)"/>
            <column name="d_last_modified_date" type="TIMESTAMP"/>
            <column name="n_version" type="NUMBER(10, 0)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet author="namdari (generated)" id="1632032662000-2">
        <createTable tableName="REVINFO">
            <column autoIncrement="true" name="REV" type="NUMBER(10, 0)">
                <constraints primaryKey="true" primaryKeyName="REVINFOPK"/>
            </column>
            <column name="REVTSTMP" type="NUMBER(19, 0)"/>
        </createTable>
    </changeSet>

    <changeSet author="namdari (generated)" id="1632032662000-3">
        <createTable tableName="AUD_TBL_ROLE">
            <column name="id" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="AUD_TBL_ROLEPK"/>
            </column>
            <column name="REV" type="NUMBER(10, 0)">
                <constraints primaryKey="true" primaryKeyName="AUD_TBL_ROLEPK"/>
            </column>
            <column name="REVTYPE" type="NUMBER(3, 0)"/>
            <column name="c_created_by" type="VARCHAR2(255 CHAR)"/>
            <column name="d_created_date" type="TIMESTAMP"/>
            <column name="c_last_modified_by" type="VARCHAR2(255 CHAR)"/>
            <column name="d_last_modified_date" type="TIMESTAMP"/>
            <column name="NAME" type="VARCHAR2(255 CHAR)"/>
            <column name="DESCRIPTION" type="varchar2(255 CHAR)"/>

        </createTable>
    </changeSet>


    <changeSet author="namdari (generated)" id="1632032662000-4">
        <addForeignKeyConstraint baseColumnNames="REV" baseTableName="AUD_TBL_ROLE"
                                 constraintName="FKAUD_TBL_ROLE_REV" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="REV" referencedTableName="REVINFO"
                                 validate="true"/>
    </changeSet>


    <changeSet author="namdari (generated)" id="1632032662000-6">
        <createSequence sequenceName="hibernate_sequence"/>
    </changeSet>

    <changeSet author="namdari (generated)" id="1632032662000-7">
        <createTable tableName="TBL_ROLE_AUD">
            <column name="id" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="TBL_ROLE_AUDPK"/>
            </column>
            <column name="REV" type="NUMBER(10, 0)">
                <constraints primaryKey="true" primaryKeyName="TBL_ROLE_AUDPK"/>
            </column>
            <column name="REVTYPE" type="NUMBER(3, 0)"/>
            <column name="c_created_by" type="VARCHAR2(255 CHAR)"/>
            <column name="d_created_date" type="TIMESTAMP"/>
            <column name="c_last_modified_by" type="VARCHAR2(255 CHAR)"/>
            <column name="d_last_modified_date" type="TIMESTAMP"/>
            <column name="NAME" type="VARCHAR2(255 CHAR)"/>
            <column name="DESCRIPTION" type="varchar2(255 CHAR)"/>

        </createTable>
    </changeSet>


    <changeSet author="namdari (generated)" id="1632032662000-8">
        <addForeignKeyConstraint baseColumnNames="REV" baseTableName="TBL_ROLE_AUD"
                                 constraintName="FK_TBL_ROLE_AUD_REV" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="REV" referencedTableName="REVINFO"
                                 validate="true"/>
    </changeSet>


    <changeSet author="namdari (generated)" id="1632032662000-9">
        <addColumn tableName="TBL_ROLE_AUD">
            <column name="e_enabled" type="number(19, 0)"/>
            <column name="e_deleted" type="number(19, 0)"/>
            <column name="n_version" type="NUMBER(10, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="matin_ar (generated)" id="1632032662000-10">
        <dropTable tableName="AUD_TBL_ROLE"/>
    </changeSet>


    <changeSet author="namdari (generated)" id="1632047279000-1">
        <createTable tableName="TBL_CLASS_AUD">
            <column name="id" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="TBL_CLASS_AUDPK"/>
            </column>
            <column name="REV" type="NUMBER(10, 0)">
                <constraints primaryKey="true" primaryKeyName="TBL_CLASS_AUDPK"/>
            </column>
            <column name="REVTYPE" type="NUMBER(3, 0)"/>
            <column name="c_created_by" type="VARCHAR2(255 CHAR)"/>
            <column name="d_created_date" type="TIMESTAMP"/>
            <column name="c_last_modified_by" type="VARCHAR2(255 CHAR)"/>
            <column name="d_last_modified_date" type="TIMESTAMP"/>
            <column name="e_enabled" type="number(19, 0)"/>
            <column name="e_deleted" type="number(19, 0)"/>
            <column name="n_version" type="NUMBER(10, 0)"/>

            <column name="c_acceptance_limit" type="VARCHAR2(255 CHAR)"/>
            <column name="c_status" type="VARCHAR2(255 CHAR)"/>
            <column name="c_status_date" type="TIMESTAMP"/>
            <column name="c_code" type="VARCHAR2(255 CHAR)"/>

            <column name="f_course" type="NUMBER(19, 0)"/>
            <column name="n_d_duration" type="NUMBER(19, 0)"/>
            <column name="c_end_date" type="VARCHAR2(255 CHAR)"/>

            <column name="b_fifth" type="NUMBER(1, 0)"/>
            <column name="b_first" type="NUMBER(1, 0)"/>
            <column name="b_fourth" type="NUMBER(1, 0)"/>
            <column name="b_friday" type="NUMBER(1, 0)"/>
            <column name="n_group" type="NUMBER(19, 0)"/>

            <column name="n_h_duration" type="NUMBER(19, 0)"/>
            <column name="c_has_warning" type="VARCHAR2(255 CHAR)"/>
            <column name="f_institute" type="NUMBER(19, 0)"/>
            <column name="n_max_capacity" type="NUMBER(19, 0)"/>
            <column name="n_min_capacity" type="NUMBER(19, 0)"/>
            <column name="b_monday" type="NUMBER(1, 0)"/>
            <column name="f_institute_organizer" type="NUMBER(19, 0)"/>
            <column name="f_planner" type="NUMBER(19, 0)"/>
            <column name="pre_course_test" type="NUMBER(1, 0)"/>
            <column name="c_reason" type="VARCHAR2(255 CHAR)"/>
            <column name="b_saturday" type="NUMBER(1, 0)"/>
            <column name="c_scoring_method" type="VARCHAR2(255 CHAR)"/>
            <column name="b_second" type="NUMBER(1, 0)"/>
            <column name="c_start_date" type="VARCHAR2(255 CHAR)"/>

            <column name="start_evaluation" type="NUMBER(10, 0)"/>
            <column name="b_sunday" type="NUMBER(1, 0)"/>
            <column name="f_supervisor" type="NUMBER(19, 0)"/>
            <column name="f_teacher" type="NUMBER(19, 0)"/>
            <column name="c_teaching_brand" type="VARCHAR2(255 CHAR)"/>
            <column name="c_teaching_type" type="VARCHAR2(255 CHAR)"/>
            <column name="f_term" type="NUMBER(19, 0)"/>
            <column name="b_third" type="NUMBER(1, 0)"/>
            <column name="b_thursday" type="NUMBER(1, 0)"/>
            <column name="c_title_class" type="VARCHAR2(255 CHAR)"/>
            <column name="c_topology" type="VARCHAR2(255 CHAR)"/>
            <column name="b_tuesday" type="NUMBER(1, 0)"/>
            <column name="b_wednesday" type="NUMBER(1, 0)"/>
            <column name="c_workflow_ending_status" type="VARCHAR2(255 CHAR)"/>
            <column name="c_workflow_ending_status_code" type="NUMBER(10, 0)"/>

            <column name="complex_id" type="number(19, 0)"/>
            <column name="assistant_id" type="number(19, 0)"/>
            <column name="affairs_id" type="number(19, 0)"/>
            <column name="b_class_to_online_status" type="number(1, 0)"/>

            <column name="b_has_test" type="number(1, 0)"/>

            <column name="STUDENT_ONLINE_EVAL_STATUS" type="number(1, 0)"/>

            <column name="TEACHER_ONLINE_EVAL_STATUS" type="number(1, 0)"/>

            <column name="f_student_cost_currency" type="number(19, 0)"/>
            <column name="c_student_cost" type="varchar2(255 CHAR)"/>
            <column name="f_targetsociety_type_id" type="number(19, 0)"/>
            <column name="f_alternative_class" type="number(19, 0)"/>

            <column name="f_cancel_class_reason" type="number(19, 0)"/>

            <column name="c_evaluation" type="varchar2(255 CHAR)"/>

            <column name="c_behavioral_level" type="varchar2(255 CHAR)"/>

            <column name="evaluation_reaction_teacher" type="number(10, 0)"/>

            <column name="evaluation_reaction_training" type="number(10, 0)"/>
            <column name="f_target_population_type_id" type="number(19, 0)"/>
            <column name="f_holding_class_type_id" type="number(19, 0)"/>
            <column name="f_teaching_method_id" type="number(19, 0)"/>
            <column name="c_postpone_start_date" type="varchar2(255 CHAR)"/>

        </createTable>
    </changeSet>


    <changeSet author="namdari (generated)" id="1632047279000-2">
        <addForeignKeyConstraint baseColumnNames="REV" baseTableName="TBL_CLASS_AUD"
                                 constraintName="FK_TBL_CLASS_AUD_REV" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="REV" referencedTableName="REVINFO"
                                 validate="true"/>
    </changeSet>

    <changeSet author="nima (generated)" id="1632293676765-727">
        <dropColumn columnName="FAMILY" tableName="TBL_MOBILE_VERIFY"/>
    </changeSet>

    <changeSet author="nima (generated)" id="1632293676765-729">
        <dropColumn columnName="NAME" tableName="TBL_MOBILE_VERIFY"/>
    </changeSet>
    <changeSet author="nick (generated)" id="1632205807374-545">
        <addColumn tableName="tbl_need_assessment_group_result">
            <column name="BLOB_FILE" type="blob"/>
        </addColumn>
    </changeSet>
    <changeSet author="nick (generated)" id="1632285214143-728">
        <dropColumn columnName="MINIO_REFERENCE" tableName="TBL_NEED_ASSESSMENT_GROUP_RESULT"/>
    </changeSet>
    <changeSet author="nick (generated)" id="1632285214143-545">
        <addColumn tableName="tbl_need_assessment_group_result">
            <column name="EXCEL_REFERENCE" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="namdari (generated)" id="2657-1">
        <sql>
            create or replace synonym TBL_OFFICIAL_CALENDAR for DEVHRM.TBL_OFFICIAL_CALENDAR;
        </sql>
    </changeSet>

    <changeSet author="namdari (generated)" id="1633237431001-1">
        <createTable tableName="tbl_question_protocol">
            <column name="id" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="tbl_question_protocolPK"/>
            </column>
            <column name="question_id" type="NUMBER(19, 0)"/>
            <column name="question_mark" type="FLOAT"/>
         </createTable>
    </changeSet>

    <changeSet author="namdari (generated)" id="1633237431001-2">
        <addColumn tableName="tbl_question_protocol">
            <column name="f_test_question" type="number(19, 0)"/>
        </addColumn>
        <addForeignKeyConstraint baseColumnNames="f_test_question" baseTableName="tbl_question_protocol" constraintName="FKQuestionToQuestionProtocol" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="tbl_test_question" validate="true"/>
    </changeSet>

    <changeSet author="namdari (generated)" id="1633237431001-3">
        <addColumn tableName="tbl_question_protocol">
            <column name="question_time" type="number(10, 0)"/>
            <column name="correct_answer" type="varchar2(255 CHAR)"/>
        </addColumn>
     </changeSet>

    <changeSet author="namdari (generated)" id="1633237431001-4">
        <createSequence sequenceName="seq_question_protocol_id"/>
    </changeSet>


    <changeSet author="nima (generated)" id="1634462669353-550">
        <createTable tableName="tbl_Request">
            <column name="id" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="tbl_RequestPK"/>
            </column>
            <column name="c_created_by" type="VARCHAR2(255 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="d_created_date" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column name="e_deleted" type="NUMBER(19, 0)"/>
            <column name="e_enabled" type="NUMBER(19, 0)"/>
            <column name="c_last_modified_by" type="VARCHAR2(255 CHAR)"/>
            <column name="d_last_modified_date" type="TIMESTAMP"/>
            <column name="n_version" type="NUMBER(10, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="FMS_REFERENCE" type="VARCHAR2(255 CHAR)"/>
            <column name="GROUP_ID" type="VARCHAR2(255 CHAR)"/>
            <column name="name" type="VARCHAR2(255 CHAR)"/>
            <column name="NATIONAL_CODE" type="VARCHAR2(255 CHAR)"/>
            <column name="reference" type="VARCHAR2(255 CHAR)"/>
            <column name="response" type="VARCHAR2(255 CHAR)"/>
            <column name="REQUEST_STATUS" type="VARCHAR2(255 CHAR)"/>
            <column name="text" type="VARCHAR2(255 CHAR)"/>
            <column name="REQUEST_TYPE" type="VARCHAR2(255 CHAR)"/>
        </createTable>
    </changeSet>

    <changeSet author="namdari" id="namdari-2521-3">
        <createView viewName="VIEW_REACTION_EVALUATION_FORMULA_REPORT" replaceIfExists="true">
            <![CDATA[
        SELECT
    ROWNUM                 AS id,
    tclass.id              AS class_id,
    tclass.c_code          AS class_code,
    tclass.c_status        AS class_status,
    tclass.c_start_date    AS class_start_date,
    tclass.c_end_date      AS class_end_date,
    course.id              AS course_id,
    course.c_code          AS course_code,
    course.c_title_fa      AS course_titlefa,
    cat.c_title_fa         AS category_titlefa,
    sucat.c_title_fa       AS sub_category_titlefa,
    tbl_personal_info.c_first_name_fa as teacher_name,

    tbl_personal_info.c_last_name_fa as teacher_family ,
        tbl_personal_info.c_national_code as teacher_national_code,
         view_complex.c_title   AS complex,
    CASE
        WHEN  tbl_teacher.b_personnel= 0      THEN
            'برون سازمانی'
        WHEN  tbl_teacher.b_personnel = 1      THEN
            'درون سازمانی'
    END                      AS is_personnel
FROM
         tbl_class tclass
    INNER JOIN tbl_course        course ON tclass.f_course = course.id
    INNER JOIN tbl_category      cat ON cat.id = course.category_id
    INNER JOIN tbl_sub_category  sucat ON sucat.id = course.subcategory_id
    INNER JOIN tbl_teacher ON tclass.f_teacher = tbl_teacher.id
    INNER JOIN tbl_personal_info ON tbl_teacher.f_personality = tbl_personal_info.id
    LEFT JOIN view_complex ON tclass.complex_id = view_complex.id
WHERE
    tclass.c_status != '1'
             ]]>
        </createView>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-024">
        <addColumn tableName="tbl_mobile_verify">
            <column name="CREATE_DATE" type="date"/>
            <column name="VERIFIED_BY" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="nima (generated)" id="1637992881035-559">
        <createTable tableName="tbl_self_declaration">
            <column name="id" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="tbl_self_declarationPK"/>
            </column>
            <column name="CREATE_DATE" type="TIMESTAMP"/>
            <column name="MOBILE_NUMBER" type="VARCHAR2(255 CHAR)"/>
            <column name="NATIONAL_CODE" type="VARCHAR2(255 CHAR)"/>
        </createTable>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-027">
        <addColumn tableName="tbl_request_item">
            <column name="emp_no" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-028">
        <addColumn tableName="tbl_request_item">
            <column name="national_code" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="namdari (generated)" id="1638875566000-1">
        <createTable tableName="TBL_CLASS_STUDENT_AUD">
            <column name="id" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="TBL_CLASS_STUDENT_AUDPK"/>
            </column>
            <column name="REV" type="NUMBER(10, 0)">
                <constraints primaryKey="true" primaryKeyName="TBL_CLASS_STUDENT_AUDPK"/>
            </column>
            <column name="REVTYPE" type="NUMBER(3, 0)"/>
            <column name="c_created_by" type="VARCHAR2(255 CHAR)"/>
            <column name="d_created_date" type="TIMESTAMP"/>
            <column name="c_last_modified_by" type="VARCHAR2(255 CHAR)"/>
            <column name="d_last_modified_date" type="TIMESTAMP"/>
            <column name="e_enabled" type="number(19, 0)"/>
            <column name="e_deleted" type="number(19, 0)"/>
            <column name="n_version" type="NUMBER(10, 0)"/>

            <column name="student_id" type="NUMBER(19, 0)"/>
            <column name="class_id" type="NUMBER(19, 0)"/>
            <column name="failure_reason_id" type="NUMBER(19, 0)"/>
            <column name="scores_state_id" type="NUMBER(19, 0)"/>
            <column name="DESCRIPTIVEـSCORE" type="FLOAT"/>
            <column name="TEST_SCORE" type="FLOAT"/>
            <column name="score" type="FLOAT"/>


        </createTable>
    </changeSet>
    <changeSet author="namdari (generated)" id="1638875566000-2">
        <addForeignKeyConstraint baseColumnNames="REV" baseTableName="TBL_CLASS_STUDENT_AUD"
                                 constraintName="FK_TBL_CLASS_STUDENT_AUD_REV" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="REV" referencedTableName="REVINFO"
                                 validate="true"/>
    </changeSet>

    <changeSet author="namdari (generated)" id="1639202499000-1">
        <createTable tableName="TBL_CLASS_STUDENT_HISTORY">

            <column name="ID" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="TBL_CLASS_STUDENT_HISTORYPK"/>
            </column>
            <column name="C_CREATED_BY" type="VARCHAR2(255 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="D_CREATED_DATE" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column name="E_DELETED" type="NUMBER(19, 0)"/>
            <column name="E_ENABLED" type="NUMBER(19, 0)"/>
            <column name="C_LAST_MODIFIED_BY" type="VARCHAR2(255 CHAR)"/>
            <column name="D_LAST_MODIFIED_DATE" type="TIMESTAMP"/>
            <column name="N_VERSION" type="NUMBER(10, 0)">
                <constraints nullable="false"/>
            </column>

            <column name="student_id" type="NUMBER(19, 0)"/>
            <column name="class_id" type="NUMBER(19, 0)"/>
            <column name="failure_reason_id" type="NUMBER(19, 0)"/>
            <column name="scores_state_id" type="NUMBER(19, 0)"/>
            <column name="DESCRIPTIVEـSCORE" type="FLOAT"/>
            <column name="TEST_SCORE" type="FLOAT"/>
            <column name="score" type="FLOAT"/>


        </createTable>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-029">
        <createTable tableName="TBL_REQUEST_ITEM_AUD">
            <column name="id" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="TBL_REQUEST_ITEM_AUDPK"/>
            </column>
            <column name="REV" type="NUMBER(10, 0)">
                <constraints primaryKey="true" primaryKeyName="TBL_REQUEST_ITEM_AUDPK"/>
            </column>
            <column name="REVTYPE" type="NUMBER(3, 0)"/>
            <column name="c_created_by" type="VARCHAR2(255 CHAR)"/>
            <column name="d_created_date" type="TIMESTAMP"/>
            <column name="c_last_modified_by" type="VARCHAR2(255 CHAR)"/>
            <column name="d_last_modified_date" type="TIMESTAMP"/>
            <column name="e_enabled" type="number(19, 0)"/>
            <column name="e_deleted" type="number(19, 0)"/>
            <column name="n_version" type="NUMBER(10, 0)"/>

            <column name="personnel_number" type="VARCHAR2(255 CHAR)"/>
            <column name="emp_no" type="VARCHAR2(255 CHAR)"/>
            <column name="name" type="VARCHAR2(255 CHAR)"/>
            <column name="last_name" type="VARCHAR2(255 CHAR)"/>
            <column name="affairs" type="VARCHAR2(255 CHAR)"/>
            <column name="post" type="VARCHAR2(255 CHAR)"/>
            <column name="work_group_code" type="VARCHAR2(255 CHAR)"/>
            <column name="national_code" type="VARCHAR2(255 CHAR)"/>
            <column name="state" type="NUMBER(10, 0)"/>
        </createTable>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-030">
        <addForeignKeyConstraint baseColumnNames="REV" baseTableName="TBL_REQUEST_ITEM_AUD"
                                 constraintName="FK_TBL_REQUEST_ITEM_AUD_REV" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="REV" referencedTableName="REVINFO"
                                 validate="true"/>
    </changeSet>

    <changeSet author="ZPakdaman" id="2799887766557-01">
        <createTable tableName="TBL_REQUEST_AUD">
            <column name="id" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="TBL_REQUEST_AUDPK"/>
            </column>
            <column name="REV" type="NUMBER(10, 0)">
                <constraints primaryKey="true" primaryKeyName="TBL_REQUEST_AUDPK"/>
            </column>
            <column name="REVTYPE" type="NUMBER(3, 0)"/>
            <column name="c_created_by" type="VARCHAR2(255 CHAR)"/>
            <column name="d_created_date" type="TIMESTAMP"/>
            <column name="c_last_modified_by" type="VARCHAR2(255 CHAR)"/>
            <column name="d_last_modified_date" type="TIMESTAMP"/>
            <column name="e_enabled" type="number(19, 0)"/>
            <column name="e_deleted" type="number(19, 0)"/>
            <column name="n_version" type="NUMBER(10, 0)"/>

            <column name="response" type="VARCHAR2(255 CHAR)"/>
            <column name="request_status" type="VARCHAR2(255 CHAR)"/>


        </createTable>
    </changeSet>

    <changeSet author="ZPakdaman" id="2799887766557-02">
        <addForeignKeyConstraint baseColumnNames="REV" baseTableName="TBL_REQUEST_AUD"
                                 constraintName="FK_TBL_REQUEST_AUD_REV" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="REV" referencedTableName="REVINFO"
                                 validate="true"/>
    </changeSet>
    <changeSet author="ZPakdaman" id="2799887766557-03">
        <addColumn tableName="tbl_request_aud">
            <column name="name" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="namdari" id="1641876106000-1">
        <addColumn tableName="tbl_competence">
            <column name="process_instance_id" type="number(19, 0)"/>
        </addColumn>
    </changeSet>


    <changeSet author="namdari" id="1641876106000-2">
        <modifyDataType tableName="tbl_competence" columnName="process_instance_id" newDataType="VARCHAR2(255 CHAR)"/>
        <addColumn tableName="tbl_competence">
            <column name="return_detail" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-041">
        <createTable tableName="TBL_EVALUATION_ANSWER_AUD">
            <column name="id" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="TBL_EVALUATION_ANSWER_AUDPK"/>
            </column>
            <column name="REV" type="NUMBER(10, 0)">
                <constraints primaryKey="true" primaryKeyName="TBL_EVALUATION_ANSWER_AUDPK"/>
            </column>
            <column name="REVTYPE" type="NUMBER(3, 0)"/>
            <column name="c_created_by" type="VARCHAR2(255 CHAR)"/>
            <column name="d_created_date" type="TIMESTAMP"/>
            <column name="c_last_modified_by" type="VARCHAR2(255 CHAR)"/>
            <column name="d_last_modified_date" type="TIMESTAMP"/>
            <column name="e_enabled" type="number(19, 0)"/>
            <column name="e_deleted" type="number(19, 0)"/>
            <column name="n_version" type="NUMBER(10, 0)"/>

            <column name="f_evaluation_id" type="NUMBER(19, 0)"/>
            <column name="f_evaluation_question_id" type="NUMBER(19, 0)"/>
            <column name="f_question_source_id" type="NUMBER(19, 0)"/>
            <column name="f_answer_id" type="NUMBER(19, 0)"/>
        </createTable>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-042">
        <addForeignKeyConstraint baseColumnNames="REV" baseTableName="TBL_EVALUATION_ANSWER_AUD"
                                 constraintName="FK_TBL_EVALUATION_ANSWER_AUD_REV" deferrable="false"
                                 initiallyDeferred="false" referencedColumnNames="REV" referencedTableName="REVINFO"
                                 validate="true"/>
    </changeSet>

    <changeSet author="nick (generated)" id="1632205807374-547">
        <addColumn tableName="tbl_question_bank">
            <column name="c_proposed_point_value"  type="FLOAT"/>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-043">
        <addColumn tableName="tbl_question_bank">
            <column name="c_question_designer" type="varchar2(255 CHAR)"/>
        </addColumn>
    </changeSet>


    <changeSet author="namdari" id="1644662089000-1">
        <addColumn tableName="tbl_needs_assessment">
            <column name="process_instance_id" type="number(19, 0)"/>
        </addColumn>
        <addColumn tableName="tbl_needs_assessment">
            <column name="return_detail" type="VARCHAR2(255 CHAR)"/>
        </addColumn>

       <addColumn tableName="tbl_needs_assessment_temp">
            <column name="process_instance_id" type="number(19, 0)"/>
        </addColumn>
        <addColumn tableName="tbl_needs_assessment_temp">
            <column name="return_detail" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="namdari" id="1644662089000-2">
        <modifyDataType tableName="tbl_needs_assessment" columnName="process_instance_id" newDataType="VARCHAR2(255 CHAR)"/>
        <modifyDataType tableName="tbl_needs_assessment_temp" columnName="process_instance_id" newDataType="VARCHAR2(255 CHAR)"/>
    </changeSet>
    <changeSet id="2799887766557-04" author="ZPakdaman">
        <addColumn tableName="tbl_teacher_certification">
            <column name="certification_status" type="BOOLEAN"></column>
        </addColumn>

    </changeSet>
    <changeSet id="2799887766557-05" author="ZPakdaman">
        <addColumn tableName="tbl_teacher_certification" >
            <column name="certification_status_detail" type="VARCHAR2(255 CHAR)"></column>
        </addColumn>
    </changeSet>
    <changeSet id="2799887766557-0" author="ZPakdaman">
        <createTable tableName="tbl_teacher_suggested_course">
            <column name="id" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="tbl_suggested_coursePK"/>
            </column>
            <column name="c_course_title" type="VARCHAR2(255 CHAR)">
                <constraints nullable="false"/>
            </column>

        </createTable>
    </changeSet>
    <changeSet author="ZPakdaman" id="2799887766557-06">
        <createTable tableName="tbl_teacher_suggested_course_category">
            <column name="f_teacher_suggested_course" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="f_category" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ZPakdaman" id="2799887766557-07">
        <createTable tableName="tbl_teacher_suggested_course_subcategory">
            <column name="f_teacher_suggested_course" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="f_subcategory" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet  author="ZPakdaman" id="2799887766557-08">
        <addColumn tableName="tbl_teacher_suggested_course">
            <column name="c_course_description" type="VARCHAR2(255 CHAR)"></column>
        </addColumn>
    </changeSet>
    <changeSet author="ZPakdaman" id="2799887766557-09" >
        <addColumn tableName="tbl_teacher_suggested_course">
            <column name="f_teacher_id" type="NUMBER(19, 0)"></column>
            <column name="c_created_by" type="VARCHAR2(255 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="d_created_date" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column name="e_deleted" type="NUMBER(19, 0)"/>
            <column name="e_enabled" type="NUMBER(19, 0)"/>
            <column name="c_last_modified_by" type="VARCHAR2(255 CHAR)"/>
            <column name="d_last_modified_date" type="TIMESTAMP"/>
            <column name="n_version" type="NUMBER(10, 0)">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet author="nick (generated)" id="1638772362566-772">
        <addColumn tableName="tbl_teacher">
            <column name="F_TEACHING_BACKGROUND" type="number(19, 0)"/>
            <column name="C_IBAN" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-044">
        <addColumn tableName="tbl_employment_history">
            <column name="f_parameter_value_collaboration_type" type="NUMBER(19, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-045">
        <addForeignKeyConstraint baseColumnNames="f_parameter_value_collaboration_type" baseTableName="tbl_employment_history" constraintName="FK_EMPLOYMENT_HISTORY_TO_PARAMETER_VALUE" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="tbl_parameter_value" validate="true"/>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-046">
        <addColumn tableName="tbl_employment_history">
            <column name="n_collaboration_duration" type="NUMBER(10, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-047">
        <addColumn tableName="tbl_academic_bk">
            <column name="f_parameter_value_university" type="NUMBER(19, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-048">
        <addForeignKeyConstraint baseColumnNames="f_parameter_value_university" baseTableName="tbl_academic_bk" constraintName="FK_ACADEMIC_BK_TO_PARAMETER_VALUE" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="tbl_parameter_value" validate="true"/>
    </changeSet>

    <changeSet  author="ZPakdaman" id="2799887766557-11">
        <createTable tableName="tbl_teacher_presentable_course">
            <column name="id" type="NUMBER(19, 0)">
                <constraints primaryKey="true" primaryKeyName="tbl_presentable_coursePK"/>
            </column>

            <column name="d_created_date" type="TIMESTAMP">
                <constraints nullable="false"/>
            </column>
            <column name="c_created_by" type="VARCHAR2(255 CHAR)">
                <constraints nullable="false"/>
            </column>
            <column name="e_deleted" type="NUMBER(19, 0)"/>
            <column name="e_enabled" type="NUMBER(19, 0)"/>
            <column name="c_last_modified_by" type="VARCHAR2(255 CHAR)"/>
            <column name="d_last_modified_date" type="TIMESTAMP"/>
            <column name="n_version" type="NUMBER(10, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="c_course_title" type="VARCHAR2(255 CHAR)"/>
            <column name="f_teacher_id" type="NUMBER(19, 0)"/>
            <column name="c_description" type="VARCHAR2(255 CHAR)"/>
            <column name="c_course_id" type="NUMBER(19, 0)"/>
            <column name="n_duration" type="VARCHAR2(255 CHAR)"/>

        </createTable>
    </changeSet>


    <changeSet author="ZPakdaman" id="2799887766557-16">
        <createTable tableName="tbl_teacher_presentable_course_category">
            <column name="f_teacher_presentable_course" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="f_category" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="ZPakdaman" id="2799887766557-17">
        <createTable tableName="tbl_teacher_presentable_course_subcategory">
            <column name="f_teacher_presentable_course" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
            <column name="f_subcategory" type="NUMBER(19, 0)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>



    <changeSet author="MShahabi" id="1799887766557-049">
        <addColumn tableName="tbl_teaching_history">
            <column name="f_parameter_value_students_level" type="NUMBER(19, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-050">
        <addForeignKeyConstraint baseColumnNames="f_parameter_value_students_level" baseTableName="tbl_teaching_history" constraintName="FK_TEACHING_HISTORY_TO_PARAMETER_VALUE" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="tbl_parameter_value" validate="true"/>
    </changeSet>
    <changeSet author="nick (generated)" id="1638772362566-773">
        <sql>
            <![CDATA[
            INSERT INTO TBL_PARAMETER (ID, C_CREATED_BY, D_CREATED_DATE, E_DELETED, E_ENABLED, C_LAST_MODIFIED_BY, D_LAST_MODIFIED_DATE, N_VERSION, C_CODE, C_DESCRIPTION, C_TITLE, C_TYPE) VALUES (477, 'tavassoli', TO_TIMESTAMP('2022-02-23 10:07:01.595000', 'YYYY-MM-DD HH24:MI:SS.FF6'), null, null, null, null, 0, 'TeacherSkillField', 'زمینه ی مهارت استاد', 'زمینه مهارت', null);
            INSERT INTO TBL_PARAMETER (ID, C_CREATED_BY, D_CREATED_DATE, E_DELETED, E_ENABLED, C_LAST_MODIFIED_BY, D_LAST_MODIFIED_DATE, N_VERSION, C_CODE, C_DESCRIPTION, C_TITLE, C_TYPE) VALUES (478, 'tavassoli', TO_TIMESTAMP('2022-02-23 10:09:42.677000', 'YYYY-MM-DD HH24:MI:SS.FF6'), null, null, null, null, 0, 'TeacherSkillType', 'نوع مهارت استاد', 'نوع مهارت', null);
            INSERT INTO TBL_PARAMETER (ID, C_CREATED_BY, D_CREATED_DATE, E_DELETED, E_ENABLED, C_LAST_MODIFIED_BY, D_LAST_MODIFIED_DATE, N_VERSION, C_CODE, C_DESCRIPTION, C_TITLE, C_TYPE) VALUES (480, 'tavassoli', TO_TIMESTAMP('2022-02-23 10:12:09.449000', 'YYYY-MM-DD HH24:MI:SS.FF6'), null, null, null, null, 0, 'TeacherSkillLevel', 'سطح مهارت استاد', 'سطح مهارت استاد', null);

            INSERT INTO TBL_PARAMETER_VALUE (ID, C_CREATED_BY, D_CREATED_DATE, E_DELETED, E_ENABLED, C_LAST_MODIFIED_BY, D_LAST_MODIFIED_DATE, N_VERSION, C_CODE, C_DESCRIPTION, F_PARAMETER_ID, C_TITLE, C_TYPE, C_VALUE) VALUES (896, 'tavassoli', TO_TIMESTAMP('2022-02-23 11:44:34.243000', 'YYYY-MM-DD HH24:MI:SS.FF6'), null, null, null, null, 0, 'TeacherSkillFieldMetalogy', 'زمینه مهارت استاد_متالوژی', 477, 'متالوژی', 'TeacherSkillField', null);
            INSERT INTO TBL_PARAMETER_VALUE (ID, C_CREATED_BY, D_CREATED_DATE, E_DELETED, E_ENABLED, C_LAST_MODIFIED_BY, D_LAST_MODIFIED_DATE, N_VERSION, C_CODE, C_DESCRIPTION, F_PARAMETER_ID, C_TITLE, C_TYPE, C_VALUE) VALUES (898, 'tavassoli', TO_TIMESTAMP('2022-02-23 12:07:00.028000', 'YYYY-MM-DD HH24:MI:SS.FF6'), null, null, null, null, 0, 'TeacherSkillFieldMechanics', 'زمینه مهارت استاد_مکانیک', 477, 'مکانیک', null, null);
            INSERT INTO TBL_PARAMETER_VALUE (ID, C_CREATED_BY, D_CREATED_DATE, E_DELETED, E_ENABLED, C_LAST_MODIFIED_BY, D_LAST_MODIFIED_DATE, N_VERSION, C_CODE, C_DESCRIPTION, F_PARAMETER_ID, C_TITLE, C_TYPE, C_VALUE) VALUES (899, 'tavassoli', TO_TIMESTAMP('2022-02-23 12:10:55.568000', 'YYYY-MM-DD HH24:MI:SS.FF6'), null, null, null, null, 0, 'TeacherSkillFieldElectronics', 'زمینه مهارت استاد_برق', 477, 'برق', null, null);
            INSERT INTO TBL_PARAMETER_VALUE (ID, C_CREATED_BY, D_CREATED_DATE, E_DELETED, E_ENABLED, C_LAST_MODIFIED_BY, D_LAST_MODIFIED_DATE, N_VERSION, C_CODE, C_DESCRIPTION, F_PARAMETER_ID, C_TITLE, C_TYPE, C_VALUE) VALUES (900, 'tavassoli', TO_TIMESTAMP('2022-02-23 12:20:44.699000', 'YYYY-MM-DD HH24:MI:SS.FF6'), null, null, null, null, 0, 'TeacherSkillTypeWelding', 'نوع مهارت استادـجوشکاری', 478, 'جوشکاری', null, null);
            INSERT INTO TBL_PARAMETER_VALUE (ID, C_CREATED_BY, D_CREATED_DATE, E_DELETED, E_ENABLED, C_LAST_MODIFIED_BY, D_LAST_MODIFIED_DATE, N_VERSION, C_CODE, C_DESCRIPTION, F_PARAMETER_ID, C_TITLE, C_TYPE, C_VALUE) VALUES (901, 'tavassoli', TO_TIMESTAMP('2022-02-23 12:22:58.506000', 'YYYY-MM-DD HH24:MI:SS.FF6'), null, null, null, null, 0, 'TeacherSkillTypePLC', 'نوع مهارت استادـPLC', 478, 'PLC', null, null);
            INSERT INTO TBL_PARAMETER_VALUE (ID, C_CREATED_BY, D_CREATED_DATE, E_DELETED, E_ENABLED, C_LAST_MODIFIED_BY, D_LAST_MODIFIED_DATE, N_VERSION, C_CODE, C_DESCRIPTION, F_PARAMETER_ID, C_TITLE, C_TYPE, C_VALUE) VALUES (902, 'tavassoli', TO_TIMESTAMP('2022-02-23 12:31:45.118000', 'YYYY-MM-DD HH24:MI:SS.FF6'), null, null, null, null, 0, 'TeacherSkillLevelVocationalT', 'سطح مهارت استاد-فنی حرفه ای', 480, 'فنی حرفه ای', null, null);
            ]]>
        </sql>
    </changeSet>

    <changeSet author="nick (generated)" id="1638772362566-774">
        <createTable tableName="TBL_TEACHER_SPECIAL_SKILL">
            <column name="ID" type="NUMBER(19, 0)"/>
            <column name="F_TEACHER_ID" type="NUMBER(19, 0)"/>
            <column name="F_FIELD_ID" type="NUMBER(19, 0)"/>
            <column name="F_TYPE_ID" type="NUMBER(19, 0)"/>
            <column name="F_LEVEL_ID" type="NUMBER(19, 0)"/>
            <column name="C_DESCRIPTION" type="varchar2(255 CHAR)"/>
        </createTable>
    </changeSet>

    <changeSet author="nick (generated)" id="1638772362566-777">
        <addColumn tableName="tbl_publication">
            <column name="c_publication_number" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-051">
        <addColumn tableName="TBL_CLASS">
            <column name="C_RELEASE_DATE" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="namdari" id="1647154846000-01">
        <addColumn tableName="tbl_class_student">
            <column name="evaluation_status_execution" type="number(10, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="namdari" id="1647154846000-02">
        <addColumn tableName="tbl_class">
            <column name="STUDENT_ONLINE_EVAL_EXECUTION_STATUS" type="number(1, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="namdari" id="1647154846000-03">
        <addColumn tableName="TBL_CLASS_AUD">
            <column name="STUDENT_ONLINE_EVAL_EXECUTION_STATUS" type="number(1, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-055">
        <addColumn tableName="TBL_TEACHER">
            <column name="C_EMP_CODE" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-056">
        <sql>
            <![CDATA[
            UPDATE tbl_teacher
            SET
                c_emp_code = (
                    SELECT
                        emp_no
                    FROM
                        tbl_personnel
                    WHERE
                        tbl_personnel.national_code = tbl_teacher.c_teacher_code
                      AND tbl_personnel.deleted = 0
                      AND tbl_teacher.b_personnel = 1
                );
            ]]>
        </sql>
    </changeSet>

    <changeSet author="namdari (generated)" id="1650866165-01">
        <addColumn tableName="tbl_evaluation">
            <column name="b_behavioral_to_online_status" type="number(1, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-063">
        <addColumn tableName="tbl_agreement">
            <column name="c_file_name" type="VARCHAR2(255 CHAR)"/>
            <column name="c_group_id" type="VARCHAR2(255 CHAR)"/>
            <column name="c_key" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-064">
        <sql splitStatements="false" stripComments="false">
            <![CDATA[
            DECLARE
            l_parameter_id NUMBER;
            BEGIN
            BEGIN
            l_parameter_id
            := seq_parameter_id.nextval;
            END;
            BEGIN
            INSERT INTO tbl_parameter (id,
                                       c_created_by,
                                       d_created_date,
                                       e_deleted,
                                       e_enabled,
                                       c_last_modified_by,
                                       d_last_modified_date,
                                       n_version,
                                       c_title,
                                       c_code)
            VALUES (l_parameter_id,
                    'shahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    'نوع آزمون',
                    'testQuestionType');
            END;
            BEGIN
            INSERT INTO tbl_parameter_value (id,
                                             c_created_by,
                                             d_created_date,
                                             e_deleted,
                                             e_enabled,
                                             c_last_modified_by,
                                             d_last_modified_date,
                                             n_version,
                                             f_parameter_id,
                                             c_title,
                                             c_code)
            VALUES (seq_parameter_value_id.NEXTVAL,
                    'shahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    l_parameter_id,
                    'آزمون پایانی',
                    'FinalTest');
            END;
            BEGIN
            INSERT INTO tbl_parameter_value (id,
                                             c_created_by,
                                             d_created_date,
                                             e_deleted,
                                             e_enabled,
                                             c_last_modified_by,
                                             d_last_modified_date,
                                             n_version,
                                             f_parameter_id,
                                             c_title,
                                             c_code)
            VALUES (seq_parameter_value_id.NEXTVAL,
                    'shahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    l_parameter_id,
                    'پیش تست',
                    'PreTest');
            END;
            BEGIN
            INSERT INTO tbl_parameter_value (id,
                                             c_created_by,
                                             d_created_date,
                                             e_deleted,
                                             e_enabled,
                                             c_last_modified_by,
                                             d_last_modified_date,
                                             n_version,
                                             f_parameter_id,
                                             c_title,
                                             c_code)
            VALUES (seq_parameter_value_id.NEXTVAL,
                    'shahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    l_parameter_id,
                    'آمادگی',
                    'Preparation');
            END;
            END;
            ]]>
        </sql>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-065">
        <sql splitStatements="false" stripComments="false">
            <![CDATA[
                DECLARE
                max_code_id NUMBER;
                BEGIN
                BEGIN
                SELECT MAX(n_code_id)
                INTO max_code_id
                FROM tbl_question_bank;
                END;
                BEGIN
                INSERT INTO tbl_question_bank (id,
                                               c_created_by,
                                               d_created_date,
                                               e_deleted,
                                               e_enabled,
                                               c_last_modified_by,
                                               d_last_modified_date,
                                               n_version,
                                               c_code,
                                               n_code_id,
                                               c_question,
                                               n_lines,
                                               f_parameter_value_question_type,
                                               f_parameter_value_question_display_type,
                                               c_option1,
                                               c_option2,
                                               c_option3,
                                               c_option4,
                                               n_multiple_choice_answer)
                VALUES (seq_question_bank_id.NEXTVAL,
                        'preparation_test',
                        current_timestamp,
                        NULL,
                        NULL,
                        NULL,
                        NULL,
                        0,
                        to_char(max_code_id + 1),
                        max_code_id + 1,
                        'طامع، یعنی:',
                        1,
                        520,
                        522,
                        'آزمند',
                        'خوش شانس',
                        'محتاج',
                        'مطمئن',
                        1);

                END;

                BEGIN
                INSERT INTO tbl_question_bank (id,
                                               c_created_by,
                                               d_created_date,
                                               e_deleted,
                                               e_enabled,
                                               c_last_modified_by,
                                               d_last_modified_date,
                                               n_version,
                                               c_code,
                                               n_code_id,
                                               c_question,
                                               n_lines,
                                               f_parameter_value_question_type,
                                               f_parameter_value_question_display_type,
                                               c_option1,
                                               c_option2,
                                               c_option3,
                                               c_option4,
                                               n_multiple_choice_answer)
                VALUES (seq_question_bank_id.NEXTVAL,
                        'preparation_test',
                        current_timestamp,
                        NULL,
                        NULL,
                        NULL,
                        NULL,
                        0,
                        to_char(max_code_id + 2),
                        max_code_id + 2,
                        'سعادت، یعنی:',
                        1,
                        520,
                        522,
                        'نیک انجام',
                        'نیک بختی',
                        'نیک بینی',
                        'نیک فرجام',
                        2);

                END;

                BEGIN
                INSERT INTO tbl_question_bank (id,
                                               c_created_by,
                                               d_created_date,
                                               e_deleted,
                                               e_enabled,
                                               c_last_modified_by,
                                               d_last_modified_date,
                                               n_version,
                                               c_code,
                                               n_code_id,
                                               c_question,
                                               n_lines,
                                               f_parameter_value_question_type,
                                               f_parameter_value_question_display_type,
                                               c_option1,
                                               c_option2,
                                               c_option3,
                                               c_option4,
                                               n_multiple_choice_answer)
                VALUES (seq_question_bank_id.NEXTVAL,
                        'preparation_test',
                        current_timestamp,
                        NULL,
                        NULL,
                        NULL,
                        NULL,
                        0,
                        to_char(max_code_id + 3),
                        max_code_id + 3,
                        'کدام ترکیب مناسبت کمتری با سه ترکیب دیگر دارد؟',
                        1,
                        520,
                        522,
                        'قاضی و مغضوب',
                        'سائل و مسئول',
                        'قاصد و مقصود',
                        'حاصل و محصول',
                        1);

                END;

                BEGIN
                INSERT INTO tbl_question_bank (id,
                                               c_created_by,
                                               d_created_date,
                                               e_deleted,
                                               e_enabled,
                                               c_last_modified_by,
                                               d_last_modified_date,
                                               n_version,
                                               c_code,
                                               n_code_id,
                                               c_question,
                                               n_lines,
                                               f_parameter_value_question_type,
                                               f_parameter_value_question_display_type,
                                               c_option1,
                                               c_option2,
                                               c_option3,
                                               c_option4,
                                               n_multiple_choice_answer)
                VALUES (seq_question_bank_id.NEXTVAL,
                        'preparation_test',
                        current_timestamp,
                        NULL,
                        NULL,
                        NULL,
                        NULL,
                        0,
                        to_char(max_code_id + 4),
                        max_code_id + 4,
                        'کدام یک از کلمات زیر در ردیف سه کلمه «کنف - کتان - نی» قرار دارند؟',
                        1,
                        520,
                        522,
                        'بوریا',
                        'پنبه',
                        'پشم',
                        'ابریشم',
                        1);

                END;

                BEGIN
                INSERT INTO tbl_question_bank (id,
                                               c_created_by,
                                               d_created_date,
                                               e_deleted,
                                               e_enabled,
                                               c_last_modified_by,
                                               d_last_modified_date,
                                               n_version,
                                               c_code,
                                               n_code_id,
                                               c_question,
                                               n_lines,
                                               f_parameter_value_question_type,
                                               f_parameter_value_question_display_type,
                                               c_option1,
                                               c_option2,
                                               c_option3,
                                               c_option4,
                                               n_multiple_choice_answer)
                VALUES (seq_question_bank_id.NEXTVAL,
                        'preparation_test',
                        current_timestamp,
                        NULL,
                        NULL,
                        NULL,
                        NULL,
                        0,
                        to_char(max_code_id + 5),
                        max_code_id + 5,
                        'کدام یک از کلمه های زیر در ردیف سه کلمه «فلفل - زردچوبه - هل» قرار دارند؟',
                        1,
                        520,
                        522,
                        'اسپند',
                        'کندر',
                        'دارچین',
                        'عود',
                        3);

                END;
                END;
            ]]>
        </sql>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-066">
        <addColumn tableName="tbl_test_question">
            <column name="c_test_question_type" type="VARCHAR2(255 CHAR)" defaultValue="type">
                <constraints nullable="false"/>
            </column>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-067">
        <sql>
            <![CDATA[
                UPDATE tbl_test_question
                SET c_test_question_type =
                        CASE
                            WHEN b_is_pre_test_question = 1
                                THEN
                                'PreTest'
                            WHEN b_is_pre_test_question = 0
                                THEN
                                'FinalTest'
                            ELSE
                                'Preparation'
                            END;
            ]]>
        </sql>
    </changeSet>

    <changeSet id="1651905051000-1" author="namdari">
        <sql endDelimiter="/">
            <![CDATA[
            CREATE OR REPLACE PROCEDURE PRC_UPDATE_CLASS_STATUS AS
            BEGIN
            UPDATE
                (
            SELECT
                *
            FROM
                tbl_class u
                    LEFT JOIN (
                    SELECT
                        tbl_class_student.class_id,
                        COUNT(tbl_class_student.id) AS counts
                    FROM
                        tbl_class_student
                    GROUP BY
                        tbl_class_student.class_id
                )         students ON students.class_id = u.id

                ) u

            set
                u.C_STATUS = '2'
            where (  1=1
              and  to_date(u.C_START_DATE,'yyyy/mm/dd','nls_calendar=persian') >=  TO_DATE('1401/01/01', 'yyyy/mm/dd','nls_calendar=persian')
              and TO_DATE(u.C_START_DATE, 'yyyy/mm/dd','nls_calendar=persian') <= TO_DATE( To_char(sysdate,'yyyy/mm/dd','nls_calendar=persian'), 'yyyy/mm/dd','nls_calendar=persian')
              and u.C_STATUS =  '1'
              and u.counts > 0 );
            END PRC_UPDATE_CLASS_STATUS;
            ]]>
        </sql>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-068">
        <addColumn tableName="tbl_student">
            <column name="b_has_preparation_test" type="number(1, 0)" defaultValueBoolean="false"/>
        </addColumn>
    </changeSet>


  <changeSet id="2799887766557-20" author="ZPakdaman">
      <addColumn tableName="tbl_class">
          <column name="CALENDAR_ID" type="NUMBER(19, 0)" ></column>

      </addColumn>
 </changeSet>
<changeSet id="1653111793-01" author="ZPakdaman">
    <createView viewName="view_class_detail" replaceIfExists="true">
        <![CDATA[
SELECT
    tclass.id                                   AS id,
    tclass.c_created_by                         AS c_created_by,
    tclass.d_created_date                       AS d_created_date,
    tclass.student_online_eval_execution_status AS student_online_eval_execution_status,
    tclass.e_deleted                            AS e_deleted,
    tclass.e_enabled                            AS e_enabled,
    tclass.c_last_modified_by                   AS c_last_modified_by,
    tclass.d_last_modified_date                 AS d_last_modified_date,
    tclass.n_version                            AS n_version,
    tclass.c_scoring_method                     AS tclass_scoring_method,
    tclass.pre_course_test                      AS tclass_has_pre_test,
    tclass.n_h_duration                         AS tclass_n_duration,
    tclass.f_institute_organizer                AS tclass_organizer,
    tclass.c_status                             AS tclass_status,
    tclass.c_reason                             AS tclass_reason,
    tclass.f_planner                            AS tclass_planner,
    tclass.f_supervisor                         AS tclass_supervisor,
    tclass.c_code                               AS tclass_c_code,
    tclass.f_institute                          AS institute_id,
    tclass.f_teacher                            AS teacher_id,
    tclass.f_term                               AS term_id,
    tclass.c_start_date                         AS tclass_c_start_date,
    tclass.c_workflow_ending_status             AS tclass_ending_status,
    tclass.c_end_date                           AS tclass_c_end_date,
    tclass.evaluation_reaction_teacher          AS teacher_eval_status,
    tclass.evaluation_reaction_training         AS training_eval_status,
    tclass.c_evaluation                         AS c_evaluation,
    tclass.c_behavioral_level                   AS c_behavioral_level,
    tclass.start_evaluation                     AS start_evaluation,
    tclass.f_cancel_class_reason                AS cancel_reason_id,
    tclass.c_postpone_start_date                AS postpone_date,
    tclass.c_teaching_type                      AS tclass_teaching_type,
    tclass.complex_id,
    personalinfo.c_first_name_fa                AS teacher_first_name,
    personalinfo.c_last_name_fa                 AS teacher_last_name,
    substr(tclass.c_start_date, 1, 4)           AS tclass_year,
    course.id                                   AS course_id,
    course.c_code                               AS course_c_code,
    course.category_id                          AS course_category_id,
    course.subcategory_id                       AS course_subcategory_id,
    course.c_title_fa                           AS course_c_title_fa,
    course.c_evaluation                         AS course_c_evaluation,
    teachingmethod.c_title                      AS teaching_method_title,
    CASE
        WHEN students.counts IS NULL THEN
            0
        ELSE
            students.counts
    END                                         AS tclass_students_count,
    term.c_title_fa                             AS term_titlefa,
    institute.c_title_fa                        AS tclass_institute,
    altclasses.c_code                           AS alternative_class_code,
    CASE
        WHEN altclasses.id IS NULL THEN
            0
        ELSE
            1
    END                                         AS re_holiding_status,
    CASE
        WHEN tclass.start_evaluation IS NULL THEN
            NULL
        ELSE
            to_date(tclass.c_end_date, 'yyyy/mm/dd', 'nls_calendar=persian') + 30 * tclass.start_evaluation
    END                                         AS behavioral_due_date,
    tclass.student_online_eval_status           AS tclass_student_online_eval_status,
    tclass.teacher_online_eval_status           AS tclass_teacher_online_eval_status,
    view_complex.c_title                        AS complextitle,
    tclass.calendar_id                         AS tclass_calender_id,
     tclass.n_group              AS tclass_n_group,

    tclass.c_student_cost                      AS tclass_c_student_cost,
    tclass.f_student_cost_currency              AS tclass_f_student_cost_currency
FROM
    tbl_class           tclass
    LEFT JOIN tbl_course          course ON tclass.f_course = course.id
    LEFT JOIN (
        SELECT
            tbl_class_student.class_id,
            COUNT(tbl_class_student.id) AS counts
        FROM
            tbl_class_student
        GROUP BY
            tbl_class_student.class_id
    )                   students ON students.class_id = tclass.id
    LEFT JOIN tbl_term            term ON tclass.f_term = term.id
    LEFT JOIN tbl_institute       institute ON institute.id = tclass.f_institute
    LEFT JOIN tbl_class           altclasses ON altclasses.id = tclass.f_alternative_class
    LEFT JOIN tbl_teacher         teacher ON teacher.id = tclass.f_teacher
    LEFT JOIN tbl_personal_info   personalinfo ON teacher.f_personality = personalinfo.id
    LEFT JOIN tbl_parameter_value teachingmethod ON teachingmethod.id = tclass.f_teaching_method_id
    LEFT JOIN view_complex ON tclass.complex_id = view_complex.id

            ]]>
    </createView>
</changeSet>

    <changeSet author="MShahabi" id="1799887766557-069">
        <addColumn tableName="tbl_request_item">
            <column name="post_title" type="VARCHAR2(255 CHAR)"/>
            <column name="current_post_title" type="VARCHAR2(255 CHAR)"/>
            <column name="education_level" type="VARCHAR2(255 CHAR)"/>
            <column name="education_major" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-072">
        <addColumn tableName="tbl_request_item">
            <column name="process_instance_id" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-073">
        <sql splitStatements="false" stripComments="false">
            <![CDATA[
            DECLARE
            l_parameter_id NUMBER;
            BEGIN
            BEGIN
            l_parameter_id
            := seq_parameter_id.nextval;
            END;
            BEGIN
            INSERT INTO tbl_parameter (id,
                                       c_created_by,
                                       d_created_date,
                                       e_deleted,
                                       e_enabled,
                                       c_last_modified_by,
                                       d_last_modified_date,
                                       n_version,
                                       c_title,
                                       c_code)
            VALUES (l_parameter_id,
                    'shahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    'وضعیت فرایند تایید صلاحیت علمی و فنی',
                    'requestItemProcessStatus');
            END;
            BEGIN
            INSERT INTO tbl_parameter_value (id,
                                             c_created_by,
                                             d_created_date,
                                             e_deleted,
                                             e_enabled,
                                             c_last_modified_by,
                                             d_last_modified_date,
                                             n_version,
                                             f_parameter_id,
                                             c_title,
                                             c_code)
            VALUES (seq_parameter_value_id.NEXTVAL,
                    'shahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    l_parameter_id,
                    'در انتظار بررسی رئیس برنامه ریزی',
                    'waitingReviewByPlanningChief');
            END;
            BEGIN
            INSERT INTO tbl_parameter_value (id,
                                             c_created_by,
                                             d_created_date,
                                             e_deleted,
                                             e_enabled,
                                             c_last_modified_by,
                                             d_last_modified_date,
                                             n_version,
                                             f_parameter_id,
                                             c_title,
                                             c_code)
            VALUES (seq_parameter_value_id.NEXTVAL,
                    'shahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    l_parameter_id,
                    'در انتظار بررسی کارشناسهای برنامه ریزی',
                    'waitingReviewByPlanningExperts');
            END;
            BEGIN
            INSERT INTO tbl_parameter_value (id,
                                             c_created_by,
                                             d_created_date,
                                             e_deleted,
                                             e_enabled,
                                             c_last_modified_by,
                                             d_last_modified_date,
                                             n_version,
                                             f_parameter_id,
                                             c_title,
                                             c_code)
            VALUES (seq_parameter_value_id.NEXTVAL,
                    'shahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    l_parameter_id,
                    'در انتظار بررسی رئیس برنامه ریزی جهت تعیین وضعیت',
                    'waitingReviewByPlanningChiefToDetermineStatus');
            END;
            BEGIN
            INSERT INTO tbl_parameter_value (id,
                                             c_created_by,
                                             d_created_date,
                                             e_deleted,
                                             e_enabled,
                                             c_last_modified_by,
                                             d_last_modified_date,
                                             n_version,
                                             f_parameter_id,
                                             c_title,
                                             c_code)
            VALUES (seq_parameter_value_id.NEXTVAL,
                    'shahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    l_parameter_id,
                    'تایید نهایی شده توسط رئیس برنامه ریزی',
                    'finalApprovalByPlanningChief');
            END;
            BEGIN
            INSERT INTO tbl_parameter_value (id,
                                             c_created_by,
                                             d_created_date,
                                             e_deleted,
                                             e_enabled,
                                             c_last_modified_by,
                                             d_last_modified_date,
                                             n_version,
                                             f_parameter_id,
                                             c_title,
                                             c_code)
            VALUES (seq_parameter_value_id.NEXTVAL,
                    'shahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    l_parameter_id,
                    'در انتظار بررسی کارشناس انتصاب سمت',
                    'waitingReviewByPositionAppointmentExpert');
            END;
            BEGIN
            INSERT INTO tbl_parameter_value (id,
                                             c_created_by,
                                             d_created_date,
                                             e_deleted,
                                             e_enabled,
                                             c_last_modified_by,
                                             d_last_modified_date,
                                             n_version,
                                             f_parameter_id,
                                             c_title,
                                             c_code)
            VALUES (seq_parameter_value_id.NEXTVAL,
                    'shahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    l_parameter_id,
                    'در انتظار بررسی سرپرست اجرا جهت برگزاری دوره ها',
                    'waitingReviewByRunSupervisorToHoldingCourses');
            END;
            BEGIN
            INSERT INTO tbl_parameter_value (id,
                                             c_created_by,
                                             d_created_date,
                                             e_deleted,
                                             e_enabled,
                                             c_last_modified_by,
                                             d_last_modified_date,
                                             n_version,
                                             f_parameter_id,
                                             c_title,
                                             c_code)
            VALUES (seq_parameter_value_id.NEXTVAL,
                    'shahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    l_parameter_id,
                    'در انتظار بررسی کارشناس اجرا جهت برگزاری دوره ها',
                    'waitingReviewByRunExpertToHoldingCourses');
            END;
            BEGIN
            INSERT INTO tbl_parameter_value (id,
                                             c_created_by,
                                             d_created_date,
                                             e_deleted,
                                             e_enabled,
                                             c_last_modified_by,
                                             d_last_modified_date,
                                             n_version,
                                             f_parameter_id,
                                             c_title,
                                             c_code)
            VALUES (seq_parameter_value_id.NEXTVAL,
                    'shahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    l_parameter_id,
                    'در انتظار تایید نهایی سرپرست اجرا',
                    'waitingFinalApprovalByRunSupervisor');
            END;
            BEGIN
            INSERT INTO tbl_parameter_value (id,
                                             c_created_by,
                                             d_created_date,
                                             e_deleted,
                                             e_enabled,
                                             c_last_modified_by,
                                             d_last_modified_date,
                                             n_version,
                                             f_parameter_id,
                                             c_title,
                                             c_code)
            VALUES (seq_parameter_value_id.NEXTVAL,
                    'shahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    l_parameter_id,
                    'در انتظار تایید نهایی رئیس اجرا',
                    'waitingFinalApprovalByRunChief');
            END;
            BEGIN
            INSERT INTO tbl_parameter_value (id,
                                             c_created_by,
                                             d_created_date,
                                             e_deleted,
                                             e_enabled,
                                             c_last_modified_by,
                                             d_last_modified_date,
                                             n_version,
                                             f_parameter_id,
                                             c_title,
                                             c_code)
            VALUES (seq_parameter_value_id.NEXTVAL,
                    'shahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    l_parameter_id,
                    'در انتظار تایید نهایی توسط رئیس برنامه ریزی (بعد از واحد اجرا)',
                    'waitingFinalApprovalByPlanningChief(AfterRun)');
            END;
            BEGIN
            INSERT INTO tbl_parameter_value (id,
                                             c_created_by,
                                             d_created_date,
                                             e_deleted,
                                             e_enabled,
                                             c_last_modified_by,
                                             d_last_modified_date,
                                             n_version,
                                             f_parameter_id,
                                             c_title,
                                             c_code)
            VALUES (seq_parameter_value_id.NEXTVAL,
                    'shahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    l_parameter_id,
                    'خاتمه فرایند',
                    'terminationOfTheProcess');
            END;
            END;
            ]]>
        </sql>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-074">
        <addColumn tableName="tbl_request_item">
            <column name="f_process_status_id" type="NUMBER(19, 0)"/>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-076">
        <addColumn tableName="tbl_request_item">
            <column name="c_return_detail" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-077">
        <sql splitStatements="false" stripComments="false">
            <![CDATA[
            DECLARE
            l_parameter_id NUMBER;
            BEGIN
            BEGIN
            l_parameter_id
            := seq_parameter_id.nextval;
            END;
            BEGIN
            INSERT INTO tbl_parameter (id,
                                       c_created_by,
                                       d_created_date,
                                       e_deleted,
                                       e_enabled,
                                       c_last_modified_by,
                                       d_last_modified_date,
                                       n_version,
                                       c_title,
                                       c_code)
            VALUES (l_parameter_id,
                    'shahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    'نظر کارشناسان درباره تایید صلاحیت علمی و فنی',
                    'requestItemExpertsOpinion');
            END;
            BEGIN
            INSERT INTO tbl_parameter_value (id,
                                             c_created_by,
                                             d_created_date,
                                             e_deleted,
                                             e_enabled,
                                             c_last_modified_by,
                                             d_last_modified_date,
                                             n_version,
                                             f_parameter_id,
                                             c_title,
                                             c_code)
            VALUES (seq_parameter_value_id.NEXTVAL,
                    'shahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    l_parameter_id,
                    'بلا مانع',
                    'noObjection');
            END;
            BEGIN
            INSERT INTO tbl_parameter_value (id,
                                             c_created_by,
                                             d_created_date,
                                             e_deleted,
                                             e_enabled,
                                             c_last_modified_by,
                                             d_last_modified_date,
                                             n_version,
                                             f_parameter_id,
                                             c_title,
                                             c_code)
            VALUES (seq_parameter_value_id.NEXTVAL,
                    'shahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    l_parameter_id,
                    'نیاز به گذراندن دوره',
                    'needToPassCourse');
            END;
            END;
            ]]>
        </sql>
    </changeSet>

    <changeSet author="Montazeri" id="1655288989000-01">
        <addColumn tableName="tbl_post_grade">
            <column name="c_title_fa_2" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="Montazeri" id="1655289049000-02">
        <sql>
            <![CDATA[
            UPDATE
                tbl_post_grade
            SET
                c_title_fa_2 =
                    RTRIM(regexp_replace(c_title_fa, '[0-9]', ''))
            ]]>
        </sql>
    </changeSet>


    <changeSet author="namdari" id="1656221511111-01">
        <sql splitStatements="false" stripComments="false">
            <![CDATA[
            DECLARE
            l_parameter_id NUMBER;
            BEGIN
            BEGIN
            l_parameter_id
            := seq_parameter_id.nextval;
            END;
            BEGIN
            INSERT INTO tbl_parameter (id,
                                       c_created_by,
                                       d_created_date,
                                       e_deleted,
                                       e_enabled,
                                       c_last_modified_by,
                                       d_last_modified_date,
                                       n_version,
                                       c_title,
                                       c_code)
            VALUES (l_parameter_id,
                    'namdari',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    'نوع شایستگی (گپ شایستگی)',
                    'gapCompetenceType');
            END;
            BEGIN
            INSERT INTO tbl_parameter_value (id,
                                             c_created_by,
                                             d_created_date,
                                             e_deleted,
                                             e_enabled,
                                             c_last_modified_by,
                                             d_last_modified_date,
                                             n_version,
                                             f_parameter_id,
                                             c_title,
                                             c_code)
            VALUES (seq_parameter_value_id.NEXTVAL,
                    'namdari',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    l_parameter_id,
                    'فردی (پستی)',
                    'personalCompetence');
            END;
            BEGIN
            INSERT INTO tbl_parameter_value (id,
                                             c_created_by,
                                             d_created_date,
                                             e_deleted,
                                             e_enabled,
                                             c_last_modified_by,
                                             d_last_modified_date,
                                             n_version,
                                             f_parameter_id,
                                             c_title,
                                             c_code)
            VALUES (seq_parameter_value_id.NEXTVAL,
                    'namdari',
                    current_timestamp,
                    NULL,
                    NULL,
                    NULL,
                    NULL,
                    0,
                    l_parameter_id,
                    'تيمی , گروهی (سازمانی)',
                    'groupCompetence');
            END;
            END;
            ]]>
        </sql>
    </changeSet>


    <changeSet author="namdari" id="1656221511111-02">
        <addColumn tableName="tbl_competence">
            <column name="complex" type="VARCHAR2(255 CHAR)"/>
            <column name="competence_priority_id" type="NUMBER(19, 0)"/>
            <column name="competence_level_id" type="NUMBER(19, 0)"/>
        </addColumn>



    </changeSet>

    <changeSet author="namdari" id="1656221511111-03">
        <addColumn tableName="tbl_competence">
            <column name="active" type="NUMBER(10, 0)"/>

        </addColumn>

    </changeSet>
    <changeSet author="namdari" id="1656832784000-01">
        <addColumn tableName="tbl_educational_decision">
            <column name="teaching_method" type="VARCHAR2(255 CHAR)"/>
            <column name="course_type_teaching_method" type="VARCHAR2(255 CHAR)"/>
            <column name="coefficient_of_teaching_method" type="VARCHAR2(255 CHAR)"/>

        </addColumn>
    </changeSet>


    <changeSet author="Montazeri" id="1656221511000-03">
        <addColumn tableName="tbl_operational_role">
            <column name="object_type" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>

    <changeSet author="MShahabi" id="1799887766557-084">
        <addColumn tableName="tbl_request_item">
            <column name="c_letter_number_sent" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>


    <changeSet author="namdari" id="1656832784000-02">
        <addColumn tableName="tbl_educational_decision">
            <column name="type_of_specialization_course_type" type="VARCHAR2(255 CHAR)"/>
            <column name="course_level_course_type" type="VARCHAR2(255 CHAR)"/>
            <column name="course_for_course_type" type="VARCHAR2(255 CHAR)"/>
            <column name="coefficient_of_course_type" type="VARCHAR2(255 CHAR)"/>

        </addColumn>
    </changeSet>

</databaseChangeLog>





